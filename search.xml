<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[SynchronizationContext - åŒæ­¥ä¸Šä¸‹æ–‡]]></title>
      <url>/2019/01/12/synchronizationcontext/</url>
      <content type="html"><![CDATA[<p>SynchronizationContextæ˜¯ä¸€ä¸ªæå…¶é‡è¦çš„ä¸œè¥¿ï¼Œå°¤å…¶æ˜¯æ¶‰åŠåˆ°å¤šçº¿ç¨‹å’ŒUIæœ‰ç‰µæ‰¯çš„æ—¶å€™ã€‚ä»å®ƒå¯ä»¥å±•å¼€ä¸¤ä¸ªè¯é¢˜ï¼šå¼‚æ­¥å’Œçº¿ç¨‹é€šä¿¡ï¼Œæˆ‘ä»¬æ¥ç®€å•çœ‹çœ‹è¿™ä¸¤ä¸ªç©æ„ã€‚</p>
<h1 id="å¼‚æ­¥"><a href="#å¼‚æ­¥" class="headerlink" title="å¼‚æ­¥"></a>å¼‚æ­¥</h1><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å¼‚æ­¥ã€‚åœ¨C#ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾åœ°å†™ç”¨ä¹¦å†™åŒæ­¥ä»£ç çš„ä¹ æƒ¯ä¹¦å†™å¼‚æ­¥ä»£ç ï¼ŒåŠŸåŠ³å½’äºawaitå…³é”®å­—ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹awaitä¸ºæˆ‘ä»¬åšäº†ä»€ä¹ˆå·¥ä½œï¼Œä»¥åŠä¸ºä»€ä¹ˆå¼‚æ­¥å’ŒSynchronizationContextæœ‰å…³ç³»ã€‚<br>ä¸€ä¸ªButtonçš„Clickäº‹ä»¶å¤„ç†å‡½æ•°é‡Œè¾¹</p>
<pre><code class="csharp">private async void Button_Click(object sender, RoutedEventArgs e)
{
    Console.WriteLine(&quot;Event handler starts...&quot;);
    await FooAsync();
    Console.WriteLine(&quot;Event handler ends...&quot;);
}
</code></pre>
<p>å®ƒçš„ç­‰æ•ˆä»£ç ä¸º</p>
<pre><code class="csharp">private void Button_Click2(object sender, RoutedEventArgs e)
{
    Console.WriteLine(&quot;Event handler starts...&quot;);
    var t = FooAsync();
    var context = SynchronizationContext.Current;
    t.ContinueWith((_) =&gt;
    {
        if (context == null)
        {
            RestOfMethod();
        }
        else
        {
            context.Post((o) =&gt; RestOfMethod(), null); // Important!!!
        }
    }, TaskScheduler.Current);
}

private void RestOfMethod()
{
    Console.WriteLine(&quot;Event handler ends...&quot;);
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå®é™…ä¸Šï¼Œawaitæ˜¯æŠŠä¹‹åçš„ä»£ç æå–æˆä¸€ä¸ªæ–¹æ³•ï¼ˆè¿™é‡Œæˆ‘ä»¬æ¼”ç¤ºæŠŠè¿™ä¸ªæ–¹æ³•å‘½åä¸ºRestOfMethodï¼‰ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªå§”æ‰˜æ”¾å…¥SynchronizationContextçš„Postæ–¹æ³•é‡Œè¾¹å»å»æ‰§è¡Œã€‚åœ¨ä¸¤ä¸‰å¹´å‰JSçš„å¼‚æ­¥ä»£ç è¿˜æ˜¯æ™®éå¦‚æ­¤æ¥å®ç°çš„ï¼Œç°åœ¨ä¹Ÿéƒ½é‡‡ç”¨äº†awaitçš„å½¢å¼ã€‚è¿™é‡Œçš„å…³é”®æ˜¯æ˜¯Postæ–¹æ³•çš„æ‰§è¡Œï¼Œåœ¨WPFç­‰æœ‰UIçº¿ç¨‹çš„ç¨‹åºä¸­ï¼Œä¼šæœ‰ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç°è±¡ï¼Œå°±æ˜¯å¦‚æœåœ¨ä»£ç ç”¨äº†Taskçš„Waitæ–¹æ³•ï¼Œå°±ä¸€å®šä¼šäº§ç”Ÿæ­»é”ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å› ä¸ºPostæ–¹æ³•å¾—ä¸åˆ°æ‰§è¡Œã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆä¸èƒ½æ‰§è¡Œå‘¢ï¼Ÿé¦–å…ˆï¼Œåœ¨WPFè¿™é‡ŒUIç¨‹åºä¸­ï¼ŒSynchronizationContextéƒ½æ˜¯åŒä¸€ä¸ªä¸”åœ¨UIçº¿ç¨‹ä¸Šï¼Œæ‰€æœ‰UIçš„æ›´æ–°éƒ½è¦é€šè¿‡UIçº¿ç¨‹æ¥å®Œæˆï¼Œä¸èƒ½è·¨çº¿ç¨‹æ›´æ–°UIã€‚å…¶æ¬¡ï¼ŒWaitå’Œawaitæ˜¯ä¸¤ç§ä¸åŒçš„å®ç°ï¼ŒWaitä¼šå¯¼è‡´å½“å‰çº¿ç¨‹é˜»å¡ç­‰å¾…ä»»åŠ¡çš„å®Œæˆï¼Œå½“ä»»åŠ¡å®Œæˆä¹‹åå°±ä¼šè°ƒç”¨ContinueWithé‡Œè¾¹çš„å§”æ‰˜ï¼Œä¹Ÿå°±æ˜¯è¦æ‰§è¡ŒPostæ–¹æ³•ï¼Œå¯æ˜¯è¦çŸ¥é“SynchronizationContext.Currentè·å¾—çš„åŒæ­¥ä¸Šä¸‹æ–‡æ˜¯UIçº¿ç¨‹ä¸Šçš„ï¼Œæ­¤æ—¶UIçº¿ç¨‹åœ¨é˜»å¡ï¼Œæ‰€ä»¥å®ƒä¼šç­‰å¾…UIçº¿ç¨‹å˜ä¸ºå°±ç»ªæ€ï¼Œä¸¤è€…ç›¸äº’ç­‰å¾…ï¼Œæ‰€ä»¥å°±è¿›å…¥äº†æ­»é”çš„çŠ¶æ€ã€‚æ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ˜¯ä¸å»ºè®®ç”¨Waitæ–¹æ³•ï¼Œæ­£ç¡®çš„å§¿åŠ¿åº”è¯¥æ˜¯<em>async/await all the way up</em>ï¼Œä½†æ˜¯è¿™å°±ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œå¼‚æ­¥ä»£ç ä¼šå‘ä¸Šå¦‚åŒç—…æ¯’èˆ¬åœ°è¿›è¡Œä¼ æ’­ï¼Œç§°ä¸º<em>zombie virus</em>ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™ç§ä¼ æ’­ä¼šåˆ°è¾¾ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä¹Ÿå°±åƒä¸Šè¾¹çš„Buttonçš„Clickäº‹ä»¶çš„å¤„ç†å‡½æ•°ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆæ‰‹æ®µæ¥é˜»æ­¢è¿™ç§ç—…æ¯’å¼çš„ä¼ æ’­ï¼Œåœ¨æ™®é€šçš„åŒæ­¥æ–¹æ³•å†…è°ƒç”¨å¼‚æ­¥æ–¹æ³•ä¸”ä¸ä¼šé˜»å¡UIçº¿ç¨‹å‘¢ï¼Ÿè¿˜æ˜¯æœ‰çš„ï¼Œåªè¦æˆ‘ä»¬æä¾›ä¸€ä¸ªéUIçº¿ç¨‹çš„SynchronizationContextæ¥æ‰§è¡ŒPostå³å¯ã€‚é»˜è®¤çš„SynchronizationContextçš„Postæ–¹æ³•ä¼šåœ¨çº¿ç¨‹æ± ä¸­ç”³è¯·çº¿ç¨‹æ‰§è¡Œï¼Œå› æ­¤å¤šä¸ªContinueWithçš„å§”æ‰˜ä¼šåœ¨ä¸åŒçš„çº¿ç¨‹ä¸­è¢«æ‰§è¡Œã€‚è¿™é‡Œæˆ‘ä»¬å¸Œæœ›æ‰€æœ‰çš„å§”æ‰˜éƒ½èƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œï¼Œé¿å…çº¿ç¨‹åˆ‡æ¢å¸¦æ¥çš„æ€§èƒ½æŸè€—ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦æ‰‹åŠ¨ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„SynchronizationContextç±»ï¼Œæ¥ç®¡ç†æ‰€æœ‰çš„å§”æ‰˜çš„æ‰§è¡Œã€‚</p>
<h2 id="æ‰‹æ’¸SynchronizationContext"><a href="#æ‰‹æ’¸SynchronizationContext" class="headerlink" title="æ‰‹æ’¸SynchronizationContext"></a>æ‰‹æ’¸SynchronizationContext</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥æ˜ç¡®ä¸€ä¸‹ä»»åŠ¡ã€‚SynchronizationContextä¸»è¦å°±æ˜¯å®ç°Postå’ŒSendæ–¹æ³•ï¼Œå‰è€…æ˜¯å¼‚æ­¥çš„ï¼Œåè€…åˆ™æ˜¯åŒæ­¥çš„ï¼Œæˆ‘ä»¬è¿™é‡Œå°±å®ç°Postæ–¹æ³•å°±å¥½äº†ï¼ŒSendä¸ä½œä¸ºå¯è¢«è°ƒç”¨çš„ã€‚å…¶æ¬¡ï¼Œä¸¤ä¸ªæ–¹æ³•çš„å‚æ•°éƒ½æ˜¯ä¸€ä¸ªSendOrPostCallbackåŠ ä¸€ä¸ªobjectç±»å‹ï¼Œæˆ‘ä»¬è¦æŠŠè¿™ä¸¤ä¸ªå‚æ•°ä¿å­˜èµ·æ¥ï¼Œå› æ­¤è¦ç”¨åˆ°é›†åˆç±»ã€‚å†æ¥ï¼Œè€ƒè™‘åˆ°çº¿ç¨‹å®‰å…¨æ€§ï¼Œå› æ­¤è¦ç”¨åˆ°çº¿ç¨‹å®‰å…¨çš„é›†åˆç±»ï¼Œå½“ç„¶ï¼Œè‡ªå·±æ‰‹åŠ¨åŠ é”ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè¿™é‡Œç®€åŒ–å°±ç›´æ¥ç”¨è‡ªå¸¦çš„å°±å¥½äº†ã€‚</p>
<pre><code class="csharp">private class SingleThreadSynchronizationContext : SynchronizationContext, IDisposable
{
    private bool done;
    public Exception InnerException { get; set; }
    private readonly AutoResetEvent mux = new AutoResetEvent(false);
    private readonly ConcurrentQueue&lt;Tuple&lt;SendOrPostCallback, object&gt;&gt; tasks =
        new ConcurrentQueue&lt;Tuple&lt;SendOrPostCallback, object&gt;&gt;();

    public override void Send(SendOrPostCallback d, object state)
    {
        throw new NotSupportedException(&quot;Use Post instead.&quot;);
    }

    public override void Post(SendOrPostCallback d, object state)
    {
        tasks.Enqueue(Tuple.Create(d, state));
        mux.Set();
    }

    public void Complete()
    {
        Post(_ =&gt; done = true, null);
    }

    public void Start()
    {
        while (!done)
        {
            if (tasks.TryDequeue(out var task))
            {
                task.Item1(task.Item2);
                if (InnerException != null)
                {
                    throw new AggregateException(InnerException);
                }
            }
            else
            {
                mux.WaitOne();
            }
        }
    }

    public override SynchronizationContext CreateCopy()
    {
        return this;
    }

    public void Dispose()
    {
        if (mux != null)
        {
            mux.Dispose();
        }
    }
}
</code></pre>
<h2 id="åŒ–å¼‚æ­¥ä¸ºåŒæ­¥"><a href="#åŒ–å¼‚æ­¥ä¸ºåŒæ­¥" class="headerlink" title="åŒ–å¼‚æ­¥ä¸ºåŒæ­¥"></a>åŒ–å¼‚æ­¥ä¸ºåŒæ­¥</h2><p>å‡†å¤‡æŠŠå¼‚æ­¥ä»£ç åœ¨å•çº¿ç¨‹ä¸ŠåŒæ­¥æ‰§è¡Œçš„æ–¹æ³•ï¼Œä¸¤ä¸ªå·®åˆ«åªæœ‰è¿”å›å€¼ç±»å‹ã€‚å…³é”®éƒ¨åˆ†æ˜¯ä¿å­˜åŸæ¥çš„åŒæ­¥ä¸Šä¸‹æ–‡ï¼Œè®¾ç½®æ–°çš„æ‰‹åŠ¨å®ç°çš„ä¸ºå½“å‰çš„åŒæ­¥ä¸Šä¸‹æ–‡ï¼Œè¿™æ ·awaitå°±ä¼šè°ƒç”¨æˆ‘ä»¬å®ç°çš„åŒæ­¥ä¸Šä¸‹æ–‡çš„Postæ–¹æ³•äº†ï¼Œæœ€ååœ¨ç»“æŸè¿”å›çš„æ—¶å€™è®¾å›åŸæ¥çš„ã€‚</p>
<pre><code class="csharp">public static void RunSync(Func&lt;Task&gt; task, object p)
{
    var oldContext = SynchronizationContext.Current;
    var synch = new SingleThreadSynchronizationContext();
    SynchronizationContext.SetSynchronizationContext(synch); // å…³é”®
    synch.Post(async _ =&gt;
    {
        try
        {
            await task();
        }
        catch (Exception e)
        {
            synch.InnerException = e;
            throw;
        }
        finally
        {
            synch.Complete();
        }
    }, null);
    synch.Start();

    SynchronizationContext.SetSynchronizationContext(oldContext); // è®¾å›ä¸Šä¸‹æ–‡
}

public static T RunSync&lt;T&gt;(Func&lt;Task&lt;T&gt;&gt; task)
{
    var oldContext = SynchronizationContext.Current;
    var synch = new SingleThreadSynchronizationContext();
    SynchronizationContext.SetSynchronizationContext(synch);
    T ret = default(T);
    synch.Post(async _ =&gt;
    {
        try
        {
            ret = await task();
        }
        catch (Exception e)
        {
            synch.InnerException = e;
            throw;
        }
        finally
        {
            synch.Complete();
        }
    }, null);
    synch.Start();
    SynchronizationContext.SetSynchronizationContext(oldContext);
    return ret;
}
</code></pre>
<p>è°ƒç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å­æ¥ç”¨</p>
<pre><code class="csharp">public Stream ReadStream =&gt; AsyncHelper.RunSync(async () =&gt;
    await file.OpenStreamForReadAsync());
</code></pre>
<h1 id="çº¿ç¨‹é€šä¿¡"><a href="#çº¿ç¨‹é€šä¿¡" class="headerlink" title="çº¿ç¨‹é€šä¿¡"></a>çº¿ç¨‹é€šä¿¡</h1><p>è®²å®Œå¼‚æ­¥éƒ¨åˆ†ï¼Œæˆ‘ä»¬å†æ¥è°ˆè°ˆçº¿ç¨‹é€šä¿¡é—®é¢˜ã€‚è¿™é‡Œä¸¾å…¶ä»–çº¿ç¨‹è¦æ›´æ–°UIå…ƒç´ ä¸ºä¾‹ã€‚ä¸Šè¾¹æˆ‘ä»¬æ˜ç¡®è¿‡äº†ï¼Œå…¶ä»–çº¿ç¨‹æ˜¯ä¸èƒ½ç›´æ¥æ›´æ–°UIå…ƒç´ çš„ï¼Œéœ€è¦é€šè¿‡UIçº¿ç¨‹æ¥å®Œæˆã€‚å¯æ˜¯ï¼Œç°å®ç¡®å®éœ€è¦åœ¨å…¶ä»–çº¿ç¨‹è¿›è¡Œä¸€äº›è®¡ç®—ï¼Œç„¶åæŠŠç»“æœåœ¨UIå…ƒç´ ä¸Šå‘ˆç°ï¼Œé‚£ä¹ˆè¿˜æœ‰ä»€ä¹ˆåŠæ³•å‘¢ï¼Ÿåœ¨WPFä¸­ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸€æ˜¯ç”¨Controlç±»çš„Dispatcherçš„Invokeæ–¹æ³•ï¼›å¦å¤–ä¸€ç§å°±æ˜¯ç”¨åˆ°åŒæ­¥ä¸Šä¸‹æ–‡äº†ã€‚åè€…ä¼šæ¯”å‰è€…å¥½ç‚¹ï¼Œå› ä¸ºåœ¨ç”¨å‰è€…çš„æ—¶å€™æˆ‘ä»¬å¿…é¡»è¦æœ‰ä¸€ä¸ªæ§ä»¶çš„å¼•ç”¨ï¼Œè¿™æ„å‘³å’ŒUIç‰µæ‰¯æ€§å¤ªé«˜ã€‚åè€…å¤§å¯ä»¥æŠŠæ›´æ–°UIçš„æ–¹æ³•ä½œä¸ºå§”æ‰˜ä¼ è¿›å»ï¼Œé‚£ä¹ˆå°±ä¸ç”¨careåˆ°åº•å¦‚ä½•æ›´æ–°UIï¼Œå’ŒUIè¿›è¡Œè„±ç¦»äº†ã€‚</p>
<p>ä¸¾ä¸ªæ —å­</p>
<pre><code class="csharp">private void TrackPlayingProgress(SynchronizationContext context, CancellationToken token)
{
    while (MainPage.MediaPlayer.PlaybackSession.PlaybackState != MediaPlaybackState.Playing)
    {
        Thread.Sleep(100);
    }
    while (!token.IsCancellationRequested &amp;&amp; MainPage.MediaPlayer.PlaybackSession.PlaybackState == MediaPlaybackState.Playing)
    {
        var p = MainPage.MediaPlayer.PlaybackSession.Position;
        var whole = MainPage.MediaPlayer.PlaybackSession.NaturalDuration;
        if (p == whole)
        {
            break;
        }
        context.Post((o) =&gt; UpdateProgressbarValue(p, whole), null); // UpdateProgressbarValueä¸ºæ›´æ–°UIçš„æ–¹æ³•
        Thread.Sleep(1000);
    }
}
</code></pre>
<p>è¿™é‡Œçš„contextç»™çš„æ˜¯UIçº¿ç¨‹çš„ï¼Œè€Œä¸”UpdateProgressbarValueä¹Ÿåœ¨è¿™ä¸ªä¸Šä¸‹æ–‡å†…ï¼Œå› æ­¤è¿™ä¸ªæ›´æ–°å®Œå…¨æ˜¯æ²¡é—®é¢˜çš„ã€‚å®é™…ä¸Šè¿è¡Œçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæŠŠè¿™ä¸ªæ–¹æ³•æ”¾åœ¨å…¶ä»–çº¿ç¨‹ä¸Šè¿è¡Œï¼Œå› æ­¤ä¸ç”¨æ‹…å¿ƒThread.Sleepé˜»å¡UIã€‚</p>
<p>å…ˆé…±ç´«ï¼Œæˆ‘å…ˆå»æ‹ç…§åƒé¥­äº†ï¼Œä»¥ä¸Šã€‚</p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://msdn.microsoft.com/en-us/magazine/jj991977.aspx" target="_blank" rel="external">1.Async/Await - Best Practices in Asynchronous Programming</a></p>
<p><a href="https://blogs.msdn.microsoft.com/pfxteam/2012/01/20/await-synchronizationcontext-and-console-apps/" target="_blank" rel="external">2.Await, SynchronizationContext, and Console Apps</a></p>
]]></content>
      
        <categories>
            
            <category> Programming </category>
            
        </categories>
        
        
        <tags>
            
            <tag> C# </tag>
            
            <tag> async </tag>
            
            <tag> MultiThread </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ³›å‹åå˜å’Œé€†å˜(Kotlin)]]></title>
      <url>/2018/11/09/kotlin-generics/</url>
      <content type="html"><![CDATA[<p>ä¹‹å‰å¬è¯´Kotlinè¿™é—¨è¯­è¨€å¾ˆelegantï¼Œä½†æ˜¯æ²¡æœ‰å…·ä½“äº†è§£ï¼Œæœ€è¿‘æŠ½ç©ºå­¦äº†ä¸€ä¸‹ï¼Œå‘ç°è¯­æ³•ç‰¹æ€§çœŸçš„åª²ç¾C#ï¼Œæ¯”Javaä¸çŸ¥é“é«˜åˆ°å“ªé‡Œå»äº†ã€‚Kotlinç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯åœ¨ç”¨ä¸€é—¨å¼ºç±»å‹çš„åŠ¨æ€è¯­è¨€ï¼Œå‡½æ•°å¼ä½“éªŒå¾ˆæ£’ï¼è¿™ç¯‡æ–‡ç« æ¥äº†è§£ä¸€ä¸‹Kotlinçš„æ³›å‹ã€‚</p>
<h2 id="ç†è§£æ³›å‹"><a href="#ç†è§£æ³›å‹" class="headerlink" title="ç†è§£æ³›å‹"></a>ç†è§£æ³›å‹</h2><p>å¦‚ä½•<a href="https://kotlinlang.org/docs/reference/generics.html" target="_blank" rel="external">å£°æ˜æ³›å‹ç±»å’Œæ³›å‹æ–¹æ³•</a>è¿™é‡Œå°±çœç•¥äº†ï¼Œæœ¬ç¯‡æ–‡ç« ç€é‡è¦è®²çš„æ˜¯ <em>in</em> å’Œ <em>out</em>ï¼Œä¹Ÿå°±æ˜¯å/é€†å˜ã€‚å¼€å§‹çš„æ—¶å€™å¯èƒ½ä¼šæœ‰ç‚¹æ··æ·†ï¼Œç”šè‡³è§‰å¾—è¿åäº†å¤šæ€çš„<em>å‘ä¸Šè½¬å‹</em>è§„åˆ™ï¼ˆå…¶å®è¿™ä¹ˆè¯´æ˜¯é”™çš„ï¼‰ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå…ˆçœ‹ä¸€ä¸ªC#çš„ä¾‹å­</p>
<pre><code class="csharp">// Contravariant interface.
interface IContravariant&lt;in A&gt; { }

// Extending contravariant interface.
interface IExtContravariant&lt;in A&gt; : IContravariant&lt;A&gt; { }

// Implementing contravariant interface.
class Sample&lt;A&gt; : IContravariant&lt;A&gt; { }

class Program
{
    static void Test()
    {
        IContravariant&lt;Object&gt; iobj = new Sample&lt;Object&gt;();
        IContravariant&lt;String&gt; istr = new Sample&lt;String&gt;();

        // You can assign iobj to istr because
        // the IContravariant interface is contravariant.
        istr = iobj;
    }
}
</code></pre>
<p>æˆ‘ä»¬çŸ¥é“Stringç±»æ˜¯æ´¾ç”Ÿè‡ªObjectç±»çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç†ŸçŸ¥çš„ <em>å‘ä¸Šè½¬å‹</em> çš„è§„åˆ™æ˜¯ç”¨çˆ¶ç±»çš„å¼•ç”¨å»å¼•ç”¨å­ç±»å¯¹è±¡ï¼Œé‚£ä¹ˆ<code>istr = iobj;</code>å°±æœ‰ç‚¹é€† <em>å‘ä¸Šè½¬å‹</em> è§„åˆ™äº†ï¼Œåˆçœ‹ä¹‹ä¸‹å¥½åƒæ˜¯è¿™ä¹ˆä¸€ç§æ„Ÿè§‰ã€‚ä½†æ˜¯è¦çŸ¥é“ï¼Œåœ¨æ³›å‹ä¸–ç•Œä¸­ï¼Œè¿™æ˜¯ä¸å¯¹çš„ã€‚è¿™æ˜¯å› ä¸ºï¼Œ<em>å‘ä¸Šè½¬å‹</em> æˆç«‹çš„å‰ææ¡ä»¶éƒ½æ²¡æœ‰ï¼Œ<code>IContravariant&lt;Object&gt;</code>å’Œ<code>IContravariant&lt;String&gt;</code>æ˜¯ä¸¤ä¸ªç±»å‹ï¼Œå®ƒä»¬ä¹‹é—´ä¸å­˜åœ¨ç»§æ‰¿å…³ç³»ï¼Œå³ä½¿æ³›å‹å‚æ•°çš„ç±»å‹æ„æˆäº†ç»§æ‰¿å…³ç³»ã€‚ä¸Šè¾¹çš„ä¾‹å­å¯ä»¥å®ç°å¤åˆ¶çš„åŸå› æ˜¯åœ¨æ³›å‹å£°æ˜çš„æ—¶å€™ç”¨äº† <em>in</em> ä¿®é¥°ç¬¦ä¿®é¥°ï¼Œé‚£ä¹ˆå¯ä»¥æ„æˆé€†å˜ï¼Œè€Œç”¨ <em>out</em> å°±èƒ½æ„æˆåå˜ã€‚ä¸‹è¾¹å°±æ˜¯åå˜çš„ä¾‹å­ï¼š</p>
<pre><code class="csharp">// Covariant interface.
interface ICovariant&lt;out R&gt; { }

// Extending covariant interface.
interface IExtCovariant&lt;out R&gt; : ICovariant&lt;R&gt; { }

// Implementing covariant interface.
class Sample&lt;R&gt; : ICovariant&lt;R&gt; { }

class Program
{
    static void Test()
    {
        ICovariant&lt;Object&gt; iobj = new Sample&lt;Object&gt;();
        ICovariant&lt;String&gt; istr = new Sample&lt;String&gt;();

        // You can assign istr to iobj because
        // the ICovariant interface is covariant.
        iobj = istr;
    }
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°é€šè¿‡åå˜/é€†å˜èƒ½å¤Ÿå®ç°æ³›å‹å‚æ•°æœ‰ç»§æ‰¿å…³ç³»çš„æ³›å‹ç±»å‹ä¹‹é—´ç›¸äº’å¼•ç”¨çš„æ•ˆæœã€‚Javaä¸­ä¹Ÿæœ‰è¿™æ ·çš„å®ç°ï¼Œä½†æ˜¯ä¸æ˜¯é€šè¿‡è¿™ä¸¤ä¸ªä¿®é¥°ç¬¦æ¥å®ç°çš„ï¼Œè€Œæ˜¯é€šè¿‡<code>? extends Object</code>å’Œ<code>? super String</code>é€šé…ç¬¦è¿™æ ·çš„å½¢å¼ã€‚è€Œåœ¨Kotlinä¸­åˆ™é‡‡ç”¨äº†å’ŒC#ç›¸åŒçš„è§„åˆ™æ¥å®ç°ï¼Œåœ¨æ–‡æ¡£ä¸­å¯ä»¥æ‰¾åˆ°è¿™æ ·ä¸€å¥è¯</p>
<blockquote>
<p>We believe that the words in and out are self-explaining (as they were successfully used in C# for quite some time already), thus the mnemonic mentioned above is not really needed, and one can rephrase it for a higher purpose</p>
</blockquote>
<h2 id="è®°å¿†outå’Œin"><a href="#è®°å¿†outå’Œin" class="headerlink" title="è®°å¿†outå’Œin"></a>è®°å¿†outå’Œin</h2><p><em>out</em>å’Œ<em>in</em>ä¸¤ä¸ªè¯å¥½åƒå’Œåå˜ï¼Œé€†å˜ä¹‹é—´æ²¡ä»€ä¹ˆå…³ç³»ã€‚å…¶å®å°±å’Œä¸Šè¾¹å¼•ç”¨çš„æ–‡æ¡£çš„é‚£å¥è¯æ‰€è¯´çš„ï¼Œ<em>out</em>å’Œ<em>in</em>å…¶å®å¾ˆå¥½è®°å¿†ï¼Œå› ä¸ºå®ƒä»¬æè¿°çš„æ˜¯æ³›å‹å‚æ•°åœ¨æ–¹æ³•çš„ä½ç½®ã€‚<em>in</em> çš„æ³›å‹å‚æ•°åªèƒ½å‡ºç°åœ¨æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ä¸­ï¼Œ<em>out</em> çš„æ³›å‹å‚æ•°åˆ™æ˜¯åªèƒ½å‡ºç°åœ¨æ–¹æ³•è¿”å›å€¼ã€‚ä¸Šè¾¹ä¸¤ä¸ªC#æ–‡æ¡£çš„ä¾‹å­å¹¶æ²¡æœ‰å‡¸æ˜¾å‡ºè¿™ä¸€ç‚¹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸ªKotlinçš„ä¾‹å­ï¼Œè¿™ä¸ªä¾‹å­ä¸»è¦å‡¸æ˜¾ä¸¤ä¸ªä¿®é¥°ç¬¦çš„å¯¹åº”çš„æ³›å‹å‚æ•°çš„æ‘†æ”¾ä½ç½®ã€‚</p>
<p>æœ‰ä¸€ä¸ªå®¶åº­ï¼Œå®¶åº­é‡Œæœ‰å„¿å­å’Œå¦ˆå¦ˆï¼Œå„¿å­æ¯å¤©å‘Šè¯‰å¦ˆå¦ˆä»–æƒ³åƒä»€ä¹ˆï¼Œå¦ˆå¦ˆå°±ä¼šä¸ºå„¿å­ç²¾å¿ƒå‡†å¤‡ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å‡†å¤‡é£Ÿç‰©ï¼Œå‡è®¾æœ‰èƒ¡èåœğŸ¥•å’Œç‰›è‚‰ğŸ‚</p>
<pre><code class="kotlin">open class Food(val name: String)

class Carrot(name: String) : Food(name)

class Beef(name: String) : Food(name)
</code></pre>
<p>å‡†å¤‡ä¸¤ä¸ªæ¥å£ï¼Œä¸€ä¸ªæ˜¯åƒè´§ï¼Œå¦ä¸€ä¸ªæ˜¯å¨å­</p>
<pre><code class="kotlin">interface Eater&lt;out TFood : Food&gt; {
    // TFoodä½œä¸ºç»“æœä»æ–¹æ³•è¿”å›(out)
    fun want(): TFood
}

interface Cook&lt;in TFood : Food&gt; {
    // TFoodä½œä¸ºå‚æ•°è¿›å…¥(in)æ–¹æ³•
    fun cook(food: TFood) {
        println(&quot;Cooking ${food.name}&quot;)
    }
}
</code></pre>
<p>åƒè´§å‘Šè¯‰å¨å­ä»–æƒ³åƒçš„é£Ÿç‰©ã€‚é€šçŸ¥å¨å­æ ¹æ®è¢«å‘ŠçŸ¥çš„é£Ÿç‰©å»å¨æˆ¿é‡Œå¿™ç¢Œï¼ˆå’ŒC#ä¸åŒï¼ŒKotlinçš„æ¥å£å¯ä»¥æœ‰é»˜è®¤å®ç°ï¼‰ã€‚</p>
<p>ç„¶åå„¿å­å’Œå¦ˆå¦ˆå‡ºåœºäº†</p>
<pre><code class="kotlin">class Son&lt;TFood : Food&gt; : Eater&lt;TFood&gt; {
    override fun want(): TFood {
        val food = when (Random().nextInt(10)) {
            in 0..6 -&gt; Beef(&quot;Beef&quot;) as TFood // Unchecked cast
            else -&gt; Carrot(&quot;Carrot&quot;) as TFood // Unchecked cast
        }
        println(&quot;Son wants to eat ${food.name}&quot;)
        return food
    }
}

class Mother&lt;TFood : Food&gt; : Cook&lt;TFood&gt; {
    override fun cook(food: TFood) {
        println(&quot;Mother is cooking ${food.name}&quot;)
    }
}
</code></pre>
<p>å—¯ï¼Œçœ‹æ¥è¿™ä¸ªå„¿å­å¾ˆå–œæ¬¢åƒç‰›è‚‰ï¼Œå¯èƒ½å®¶é‡Œæœ‰çŸ¿ã€‚</p>
<p>æŸä¸€å¤©å„¿å­è¦åƒé¥­äº†</p>
<pre><code class="kotlin">fun main(args: Array&lt;String&gt;) {
    val son = Son&lt;Food&gt;()
    val mother = Mother&lt;Food&gt;()
    val wanted = son.want()
    mother.cook(wanted)
}
</code></pre>
<p>å…¶å®è¿™ä¸ªå„¿å­è¿˜æ˜¯èƒ½ä»€ä¹ˆéƒ½åƒçš„ï¼Œä¸æŒ‘é£Ÿçš„å¥½å­©å­ï¼Œå¦ˆå¦ˆæ›´æ˜¯å‰å®³ï¼Œä»€ä¹ˆéƒ½ä¼šç…®å“ˆå“ˆå“ˆã€‚</p>
<h2 id="C-å’ŒKotlinçš„å·®å¼‚"><a href="#C-å’ŒKotlinçš„å·®å¼‚" class="headerlink" title="C#å’ŒKotlinçš„å·®å¼‚"></a>C#å’ŒKotlinçš„å·®å¼‚</h2><p>è™½ç„¶ä¸¤è€…åœ¨æ³›å‹ä¸Šå¾ˆç›¸ä¼¼ï¼Œè¿˜æ˜¯æœ‰ç‚¹å·®åˆ«çš„ã€‚</p>
<p>å…¶ä¸€ï¼Œ C#åœ¨å®ç°åå˜/é€†å˜ä¸Šåªæ”¯æŒå¼•ç”¨ç±»å‹ä½œä¸ºæ³›å‹å‚æ•°ï¼ˆ<a href="https://blogs.msdn.microsoft.com/ericlippert/2009/03/19/representation-and-identity/" target="_blank" rel="external">ä¸ºä»€ä¹ˆï¼Ÿ</a>ï¼‰</p>
<blockquote>
<p>Covariance and contravariance in generic type parameters are supported for reference types, but they are not supported for value types. <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/in-generic-modifier" target="_blank" rel="external">in (Generic Modifier)</a></p>
</blockquote>
<p>è€ŒKotlinæ•°å€¼ç±»å‹ä¹Ÿå¯ä»¥ï¼Œç›Šäºæœ‰å¼•ç”¨ç±»å‹çš„Double</p>
<pre><code class="kotlin">interface Comparable&lt;in T&gt; {
    operator fun compareTo(other: T): Int
}

fun demo(x: Comparable&lt;Number&gt;) {
    x.compareTo(1.0) // 1.0 has type Double, which is a subtype of Number
    // Thus, we can assign x to a variable of type Comparable&lt;Double&gt;
    val y: Comparable&lt;Double&gt; = x // OK!
}
</code></pre>
<p>å…¶äºŒï¼ŒKotlinç¼–è¯‘å®Œäº†ä¹‹åä¼šä¸¢å¤±æ³›å‹å‚æ•°ä¿¡æ¯ï¼Œæ–‡æ¡£æè¿°</p>
<blockquote>
<p>The type safety checks that Kotlin performs for generic declaration usages are only done at compile time. At runtime, the instances of generic types do not hold any information about their actual type arguments. The type information is said to be erased. For example, the instances of Foo<bar> and Foo<baz?> are erased to just Foo&lt;*&gt;.</baz?></bar></p>
</blockquote>
<p>æ‰€ä»¥è¯´å¦‚æœåœ¨mainæ–¹æ³•é‡Œåšè¿™æ ·çš„åˆ¤æ–­ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯</p>
<pre><code class="kotlin">println(son is Son&lt;Beef&gt;)
// Error:(5, 20) Kotlin: Cannot check for instance of erased type: Son&lt;Beef&gt;
</code></pre>
<p>çœ‹çœ‹C#è¿™è¾¹åªæ˜¯ç»™å‡ºä¸€ä¸ªè­¦å‘Šè¯´sonæ°¸è¿œä¸ä¼šä¸ºSon&lt;Beef&gt;ç±»å‹ï¼Œå«æˆ‘ä»¬ä¸è¦åšæ— æ‰€è°“çš„åˆ¤å®šï¼Œä½†æ˜¯å¯ä»¥æ­£å¸¸ç¼–è¯‘è¿è¡Œã€‚</p>
<pre><code class="csharp">Console.WriteLine(son is Son&lt;Beef&gt;); 
// The given expression is never of the provided (&#39;Son&lt;Beef&gt;&#39;) type [GenericsInCSharpe]
</code></pre>
<p>å…¶ä¸‰ï¼ŒKotlinä¸­ä¸èƒ½å¯¹inå‚æ•°è¿›è¡Œèµ‹å€¼ï¼Œè¿™æ˜¯å› ä¸ºè¢«inä¿®é¥°çš„ä¸ºvalçš„ï¼Œä¸å…è®¸å†æ¬¡èµ‹å€¼ã€‚æ„Ÿè§‰Kotlinçš„inæ˜¯C#çš„<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/in-generic-modifier" target="_blank" rel="external">inä¿®é¥°ç¬¦</a>å’Œ<a href="https://dotnetcoretutorials.com/2018/01/08/new-keyword-c-7-2/" target="_blank" rel="external">inå…³é”®å­—</a>çš„ç»“åˆã€‚</p>
<pre><code class="kotlin">interface Cook&lt;in TFood : Food&gt; {
    fun cook(food: TFood) {
        food = Beef(&quot;Beef&quot;) as TFood // Val cannot be reassigned
        println(&quot;Cooking ${food.name}&quot;)
    }
}
</code></pre>
]]></content>
      
        <categories>
            
            <category> Programming </category>
            
        </categories>
        
        
        <tags>
            
            <tag> C# </tag>
            
            <tag> Kotlin </tag>
            
            <tag> Generics </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ— æŸROOTæ‰XPERIA]]></title>
      <url>/2018/08/29/root-xperiaxp/</url>
      <content type="html"><![CDATA[<p>å¤§æ¦‚ä¸€ä¸ªæœˆå‰æ¡äº†ä¸ªåƒåœ¾â€“Xperia X Performanceï¼Œå‘çˆ¹çš„ç´¢å°¼é¦™æ¸¯ï¼Œæ²¡ç»™æ¸¯ç‰ˆXPæ¨é€Oreoçš„æ›´æ–°ï¼Œæ— å¥ˆä¹‹ä¸‹åªèƒ½åˆ·äº†å°ç‰ˆï¼Œæ„Ÿè§‰é£Ÿç”¨è‰¯å¥½ã€‚æœ‰ä¸ªé—®é¢˜å›°æ‰°äº†æˆ‘å¾ˆä¹…ï¼Œå°±æ˜¯å†°ç®±å’ŒAppOpsæ¯æ¬¡é‡å¯éƒ½è¦adbä¸€ä¸‹æ‰èƒ½å·¥ä½œå¾ˆéº»çƒ¦ï¼Œäºæ˜¯æœ‰æƒ³ROOTæ‰æ‰‹æœºçš„æƒ³æ³•ï¼Œä¹‹å‰æ˜¯é¡¾è™‘åˆ°ä¼šä¸¢å¤±ç®—æ³•ï¼Œä½†å½“æˆ‘äº†è§£åˆ°å¯ä»¥é€šè¿‡å¤‡ä»½TAç„¶åä½œä¸ºè¡¥ä¸ä¿®åˆ°å†…æ ¸é‡Œå»å®Œç¾å®ç°â€œæ— æŸâ€è§£é”ä¹‹åå°±æ¯«æ— é¡¾å¿Œäº†ï¼Œäºæ˜¯å¼€å§‹ä»¥ä¸‹çš„æŠ˜è…¾ã€‚æ‰€éœ€çš„ä¸œè¥¿æˆ‘åˆ†äº«åˆ°äº†ä»¥ä¸‹åœ°æ–¹</p>
<ul>
<li><a href="https://1drv.ms/f/s!AtE_8sdzNgS-hJEie2jOwJ17UBFZzA" target="_blank" rel="external">å·¥å…· - OneDrive</a></li>
<li><a href="https://pan.baidu.com/s/1OaOK_90I1P6ht8tHCAsoCA" target="_blank" rel="external">FTF - ç™¾åº¦äº‘</a>ï¼Œå¯†ç ï¼ša6kc</li>
</ul>
<p>æ³¨ï¼šå¦‚æœä½ çš„æ‰‹æœºæ²¡æœ‰å¤‡ä»½åˆ°TAå°±è§£é”äº†ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥è·³åˆ°åˆ¶ä½œå†…æ ¸é•œåƒé‚£éƒ¨åˆ†ã€‚</p>
<h2 id="å¤‡ä»½TA"><a href="#å¤‡ä»½TA" class="headerlink" title="å¤‡ä»½TA"></a>å¤‡ä»½TA</h2><p>æœ€å…ˆæˆ‘ä»¬è¦å¤‡ä»½TAï¼Œåœ¨è¿™ä¹‹å‰è¦å…ˆè£…<a href="http://www.flashtool.net/downloads.php" target="_blank" rel="external">flashtool</a>ï¼Œå…·ä½“å¦‚ä½•å®‰è£…ç•¥è¿‡ã€‚ç¡®ä¿ç³»ç»Ÿæ˜¯6.0ï¼Œä¸ç„¶è¦å…ˆé™çº§ï¼Œç”¨flashtoolåˆ·FTFå³å¯ã€‚ç„¶åå°†<strong>backupTA_v2</strong>è§£å‹å‡ºæ¥ï¼Œå¼€å¯USBè°ƒè¯•ï¼Œè¿æ¥æ‰‹æœºï¼Œå‘½ä»¤è¡Œåˆ‡æ¢åˆ°è§£å‹ç›®å½•ä¸‹è¿è¡Œ<code>backupTA.cmd</code>ï¼Œå®Œæˆä¹‹åä¼šå¾—åˆ°ä¸€ä¸ªå¤§å°åˆšå¥½æ˜¯2,097,152 bytesçš„é•œåƒæ–‡ä»¶ã€‚è¿™ä¸ªé•œåƒæ–‡ä»¶è¦å¥½å¥½ä¿ç®¡ï¼Œä»¥åæƒ³å…»è€å›é”ä¹Ÿç”¨å¾—åˆ°/_ \</p>
<h2 id="è§£é”"><a href="#è§£é”" class="headerlink" title="è§£é”"></a>è§£é”</h2><p>å¤‡ä»½å¥½TAä¹‹åæ‰‹æœºå°±å¯ä»¥éšæ„æŠ˜è…¾äº†ï¼Œå‰ææ˜¯æˆ‘ä»¬è¦å°†æ‰‹æœºè§£é”ï¼Œåœ¨<a href="https://developer.sony.com/develop/open-devices/get-started/unlock-bootloader/" target="_blank" rel="external">ç´¢å°¼å¼€å‘è€…ä¸­å¿ƒ</a>çš„è¿™ä¸ªé¡µé¢é€‰æ‹©æœºå‹ç„¶åè·å–è§£é”ç ï¼Œæ ¹æ®å®˜æ–¹çš„æŒ‡ç¤ºæ“ä½œå³å¯ã€‚<br><a href="/img/2018/08/snipaste_20180829_201131.png"><img src="/img/2018/08/snipaste_20180829_201131.png" alt=""></a></p>
<h2 id="åˆ¶ä½œå†…æ ¸é•œåƒ"><a href="#åˆ¶ä½œå†…æ ¸é•œåƒ" class="headerlink" title="åˆ¶ä½œå†…æ ¸é•œåƒ"></a>åˆ¶ä½œå†…æ ¸é•œåƒ</h2><p>æŠŠrootkernelå‹ç¼©åŒ…è§£å‹ï¼Œåœ¨<strong>filesystem_files</strong>é‡Œæœ‰ä¸ªtxtæ–‡ä»¶ï¼Œå†…å®¹æ˜¯</p>
<pre><code>adb pull /system/vendor/etc/fstab.qcom
adb pull /system/vendor/etc/init/hw/init.qcom.rc
adb pull /system/vendor/etc/init/hw/init.target.rc
</code></pre><p>æ˜æ˜¾ï¼Œéœ€è¦ç”¨åˆ°è¿™ä¸‰ä¸ªæ–‡ä»¶ï¼Œå› æ­¤ç”¨adbå–å‡ºæ¥ï¼Œè¿è¡Œä¸Šè¾¹çš„å‘½ä»¤å³å¯ï¼ˆç¡®ä¿3ä¸ªæ–‡ä»¶åœ¨<strong>filesystem_files</strong>ä¸‹ï¼‰ã€‚<br>å–å‡º8.0 FTFåŒ…é‡Œçš„kernel.sinï¼Œåœ¨flashtoolçš„å·¥å…·æ ä¸­é€‰æ‹©Tools-&gt;Sin Editorï¼Œé€‰æ‹©å†…æ ¸ï¼Œç„¶åç‚¹å‡»<strong>Extract data</strong>ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªåä¸º<strong>kernel.elf</strong>çš„é•œåƒæ–‡ä»¶ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯¹å®ƒè¿›è¡ŒåŠ å·¥ã€‚<br><a href="/img/2018/08/snipaste_20180829_202753.png"><img src="/img/2018/08/snipaste_20180829_202753.png" alt=""></a></p>
<p>å°†kernel.elfå’ŒTAé•œåƒæ”¾å…¥rootkernelæ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶æŠŠTAé•œåƒå‘½åä¸º<strong>TA.img</strong>ï¼Œè¿™é‡Œæ³¨æ„<strong>å¤§å°å†™æ•æ„Ÿ</strong>ã€‚ç„¶ååœ¨è¿™ä¸ªç›®å½•ä¸‹è¿è¡Œå‘½ä»¤è¡Œï¼Œæ•²å…¥å‘½ä»¤<code>rootkernel.cmd kernel.elf boot.img</code>ã€‚æé—®å…¨éƒ¨æ•²å…¥Yï¼Œå¦‚æœæ²¡æœ‰TAé•œåƒï¼Œé‚£ä¹ˆåœ¨é—®<strong>Install DRM fix? [Y/n]</strong>çš„æ—¶å€™æ•²å…¥nã€‚</p>
<h2 id="åˆ·æœº"><a href="#åˆ·æœº" class="headerlink" title="åˆ·æœº"></a>åˆ·æœº</h2><p>éµå¾ªä»¥ä¸‹æ­¥éª¤è¿›è¡Œåˆ·æœº</p>
<ol>
<li>å¤‡ä»½æ•°æ®</li>
<li>å°†Magiskå’ŒDRM-Fix_System_Modeï¼ˆå¦‚æœä½ çš„æ‰‹æœºæ²¡å¤‡ä»½TAå°±åˆ·è¿™ä¸ªï¼‰æ”¾å…¥æ‰‹æœºå†…éƒ¨å­˜å‚¨ä¸ä¼šè¢«åˆ·æ‰çš„åœ°æ–¹ï¼ˆå¤–éƒ¨SDå¡æˆ–è€…å¸¦MicroUSBå£çš„Uç›˜æœ€å¥½ï¼‰</li>
<li>ç”¨flashtoolåˆ·å…¥å®˜æ–¹Oreoçš„FTFï¼ŒWipeæ‰æ‰€æœ‰ï¼Œ<strong>excludeé‡Œé€‰æ‹©fotakernel</strong></li>
<li>åˆ·å®Œä¹‹åä¸è¦å¼€æœº</li>
<li>è¿›å…¥fastbootæ¨¡å¼ã€‚è¿›å…¥å§¿åŠ¿ï¼šæŒ‰ä½éŸ³é‡åŠ ï¼Œç„¶åè¿æ¥USBã€‚çœ‹åˆ°å‘¼å¸ç¯å˜æˆè“è‰²</li>
<li>è¿è¡Œå‘½ä»¤ï¼Œ<code>fastboot flash boot boot.img</code></li>
<li>åˆ·å…¥recï¼Œ<code>fastboot flash recovery twrp-3.2.3-0-dora.img</code></li>
<li>æ‹”æ‰USBï¼Œè¿›å…¥twrpï¼Œè¿›å…¥å§¿åŠ¿ï¼šéŸ³é‡å‡+ç”µæºé”®ï¼Œå±å¹•äº®èµ·æ¾å¼€ç”µæºé”®ï¼Œä¿æŒéŸ³é‡å‡ã€‚</li>
<li>åœ¨twrpé‡Œåˆ·å…¥DRM-Fix_System_Modeï¼ˆå¦‚æœæ²¡æœ‰å¤‡ä»½TAï¼‰</li>
<li>åˆ·å…¥Magisk</li>
</ol>
<h2 id="ä¿®æ”¹-systemåˆ†åŒºåº”ç”¨"><a href="#ä¿®æ”¹-systemåˆ†åŒºåº”ç”¨" class="headerlink" title="ä¿®æ”¹/systemåˆ†åŒºåº”ç”¨"></a>ä¿®æ”¹/systemåˆ†åŒºåº”ç”¨</h2><p>åˆ·äº†Magiskåæˆ‘ä»¬å°±æœ‰ROOTæƒé™äº†ï¼Œå¯ä»¥å°†ç³»ç»Ÿä¸€äº›ç”¨ä¸ç€çš„ä¸œè¥¿ä»ç³»ç»Ÿåˆ†åŒºé‡Œå»æ‰ï¼Œæ¯”å¦‚è°·æ­Œå…¨å®¶æ¡¶çš„å¤§éƒ¨åˆ†ï¼Œä¹Ÿå¯ä»¥æ”¾äº›åº”ç”¨è¿›å»ã€‚åœ¨åˆ†äº«çš„èµ„æºçš„<strong>addons</strong>é‡Œæœ‰äº›apkï¼Œå…¶ä¸­æœ‰ä¸ªè°·æ­Œçš„ç”µè¯å¯ä»¥æ”¾å…¥ï¼Œæ¯”è‡ªå¸¦çš„å¤šäº†ä¸€ç‚¹ä¸œè¥¿ï¼ˆæ¯”å¦‚ï¼šâ€œæ¥ç”µæ˜¾ç¤ºå’Œéªšæ‰°ç”µè¯â€è¿™ä¸ªåŠŸèƒ½ï¼‰ã€‚è¿˜æœ‰XZ2é‡Œè‡ªå¸¦çš„ä¸»é¢˜å’Œæ¡Œé¢ï¼Œè¿™ä¸ªæ¡Œé¢å…¶ä¸­ä¸€ä¸ªç‰¹æ€§æ˜¯ä¼šå°†å›¾æ ‡ç»Ÿä¸€æˆåœ†å½¢ï¼Œä¸è¿‡æ²¡æœ‰åŒå‡»é”å±å¾ˆå¯æƒœï¼Œä¸ç„¶æˆ‘å°±ç”¨å®ƒäº†ã€‚åç»­å‘ç°æœ‰ä¸é”™çš„ä¼šç»§ç»­æ”¾å…¥OneDriveã€‚</p>
]]></content>
      
        <categories>
            
            <category> Android </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Root </tag>
            
            <tag> Xperia </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Cè¯­è¨€æŒ‡é’ˆæ•°ç»„å’Œæ•°ç»„æŒ‡é’ˆ]]></title>
      <url>/2018/07/31/array-ptr/</url>
      <content type="html"><![CDATA[<p>ä¸ºä»€ä¹ˆè¦è®¨è®ºè¿™ä¸ªè¯é¢˜å‘¢ï¼Ÿè¿™ä¸ªè¯é¢˜èµ·æºäºæˆ‘ä»Šå¤©æ‰“å¼€Leetcodeä¹‹åçœ‹åˆ°çš„ä¸¤è¡Œä»£ç ã€‚</p>
<pre><code class="c">int a[5] = {0, 1, 2, 3, 4};
vector&lt;int&gt; v4(a, *(&amp;a + 1));
</code></pre>
<p>æˆ‘å°±å¥½å¥‡äº†è¿™ä¸ªç”¨çš„æ˜¯å“ªä¸ªæ„é€ å‡½æ•°ã€‚<code>*(&amp;a + 1)</code>ç©¶ç«ŸæŒ‡çš„æ˜¯ä»€ä¹ˆï¼Œè¿™æ˜¯ä»¤æˆ‘è´¹è§£çš„ï¼Œè°ƒè¯•äº†ä¸€ä¸‹å‘ç°å®ƒæŒ‡çš„æ˜¯æ•°ç»„çš„æœ€åï¼Œæ‰€ä»¥ç”¨çš„æ˜¯<em>range constructor</em>ã€‚é‚£ä¹ˆå°±å¾€æˆ‘ä»¬ä¸€å±‚ä¸€å±‚çš„å‰¥å¼€ï¼Œæ·±å…¥ç†è§£ä¸€ä¸‹å§ã€‚</p>
<p>è¦ç†è§£è¿™ä¸ªä¸»è¦ç†è§£<code>a</code>å’Œ<code>&amp;a</code>å³å¯ï¼Œè€Œç†è§£è¿™ä¸¤ä¸ªæˆ‘ä»¬ä¸»è¦ä»å®ƒä»¬çš„ç±»å‹å…¥æ‰‹ï¼Œæ‰€ä»¥ï¼Œå®ƒä»¬ç±»å‹éƒ½æ˜¯ä»€ä¹ˆï¼Ÿ<br>å…¶å®<code>a</code>çš„ç±»å‹æ˜¯<code>int*</code>ï¼Œè€Œ<code>&amp;a</code>çš„ç±»å‹æ˜¯<code>int(*)[5]</code>ã€‚</p>
<pre><code class="c">int(*p1)[5] = &amp;a;
int* p2 = a;
</code></pre>
<p>æˆ‘ä»¬éƒ½å¾ˆç†Ÿæ‚‰çš„æ˜¯<code>int*</code>ç±»å‹çš„æŒ‡é’ˆåç§»ä¸€ä½å°±æ˜¯ä¸€ç»´æ•°ç»„çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œæœ¬ä¾‹ä¸­çš„<code>p2</code>åç§»ä¸€ä½ä¹Ÿå°±æ˜¯<code>p2+1</code>æŒ‡å‘çš„å…ƒç´ æ˜¯1ã€‚é‚£ä¹ˆæˆ‘ä»¬åšä¸ªæ‰©å±•ï¼Œ<code>int(*)[5]</code>ç±»å‹çš„æŒ‡é’ˆåç§»ä¸€ä½çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯ä»€ä¹ˆï¼Ÿå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¸»è¦ç†è§£åŠ 1çš„æ“ä½œåç§»çš„é•¿åº¦æ˜¯å¤šå°‘å³å¯ã€‚å¯¹äº<code>int*</code>ç±»å‹åŠ 1ç§»åŠ¨äº†<code>sizeof(int)</code>çš„é•¿åº¦ï¼Œè¿™æ˜¯æˆ‘ä»¬çŸ¥é“çš„ã€‚é‚£ä¹ˆ<code>int(*)[5]</code>å®é™…ä¸ŠåŸç†æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºå®ƒçš„ç±»å‹æ˜¯5ä¸ªé•¿åº¦çš„æ•°ç»„ï¼Œå› æ­¤å®ƒçš„åŠ 1æ“ä½œåç§»çš„é•¿åº¦æ˜¯<code>sizeof(int)*5</code>ï¼Œå› æ­¤<code>&amp;a+1</code>å®é™…ä¸ŠæŒ‡å‘äº†<code>a</code>è¿™ä¸ªæ•°ç»„çš„æœ«å°¾ï¼Œå› ä¸ºè¿™æ˜¯æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆçš„ç¼˜æ•…ï¼Œæˆ‘ä»¬å†å¯¹å®ƒå–å€¼<code>*(&amp;a+1)</code>å°±å¾—åˆ°äº†æ•°ç»„<code>a</code>æœ€åçš„åœ°å€ã€‚</p>
<p>æµ‹è¯•ä»£ç ï¼š</p>
<pre><code class="c">int* p3 = *(&amp;a + 1);

cout &lt;&lt; *a &lt;&lt; endl;
cout &lt;&lt; *(&amp;a) &lt;&lt; endl;
cout &lt;&lt; a &lt;&lt; endl;
cout &lt;&lt; &amp;a[0] &lt;&lt; endl;

cout &lt;&lt; &quot;============&quot; &lt;&lt; endl;
cout &lt;&lt; p3 &lt;&lt; endl;
cout &lt;&lt; &amp;a[4] + 1 &lt;&lt; endl;
</code></pre>
<p>ç»“æœ</p>
<pre><code>0
0133FDF8
0133FDF8
0133FDF8
============
0133FE0C
0133FE0C
</code></pre>]]></content>
      
        <categories>
            
            <category> Programming </category>
            
        </categories>
        
        
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Pythonè£…é¥°å™¨]]></title>
      <url>/2018/07/18/decorator/</url>
      <content type="html"><![CDATA[<p>æœ¬æ–‡ä¼šæ¶‰åŠåˆ°çš„å†…å®¹æœ‰ï¼š</p>
<ul>
<li>é«˜é˜¶å‡½æ•°</li>
<li>é—­åŒ…</li>
<li>è£…é¥°å™¨</li>
</ul>
<p>åªè¦ä½ æ‡‚äº†å‰ä¸¤ä¸ªï¼Œé‚£ä¹ˆå°±å¯ä»¥å¾€ä¸‹ç»§ç»­é˜…è¯»äº†ã€‚ç°åœ¨å‡è®¾æˆ‘ä»¬æœ‰è¿™ä¹ˆä¸€ä¸ªéœ€æ±‚ï¼Œå®ç°å¯¹ä¸¤ä¸ªè™šæ•°çš„åŠ ä¹˜è¿ç®—ã€‚å®ç°æ–¹æ³•å½“ç„¶å¾ˆå¤šï¼Œæœ€ç›´æ¥èƒ½æƒ³åˆ°çš„åº”è¯¥å°±æ˜¯å†™ä¸¤ä¸ªå‡½æ•°ï¼Œç„¶åå®Œæˆå„è‡ªçš„é€»è¾‘ã€‚è¿™æ ·æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ²¡æœ‰æ‰©å±•æ€§ã€‚æƒ³è±¡ä¸€ä¸‹å®šä¹‰ä¸€ä¸ªé€šç”¨è¿ç®—æ–¹æ³•ï¼Œç„¶åæŠŠä¸€ä¸ªå‡½æ•°ï¼ˆå³ä¸€ç§è¿ç®—è§„åˆ™ï¼‰ä¼ å…¥ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªå‡½æ•°å®Œæˆè¿ç®—åè¿”å›ã€‚è¿™æ ·ä½¿ç”¨è€…å°±å¯ä»¥å®Œå…¨åœ¨åæœŸè‡ªå®šä¹‰è‡ªå·±çš„è¿ç®—è§„åˆ™ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯å¯ä»¥ä½¿ç”¨<em>lambda</em>è¡¨è¾¾å¼ï¼Œé¿å…ä¸€æ¬¡æ€§å‡½æ•°åœ¨ä»£ç ä¸­å®šä¹‰ã€‚ç”¨è¿‡C++çš„æ ‡å‡†åº“é‡Œçš„sort()å‡½æ•°ä¸€çœ¼å°±çŸ¥é“æˆ‘è¯´ä»€ä¹ˆäº†ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬å…ˆå‡†å¤‡ä¸€ä¸ªç±»</p>
<pre><code class="Py">class Complex:
    def __init__(self,x,y):
        self.x = x
        self.y = y   
    def __repr__(self):
        return str(self.x) + &#39;i&#39; + (&#39;+&#39; if self.y &gt; 0 else &#39;&#39;) + str(self.y)
</code></pre>
<p>åˆ°æ­¤æˆ‘ä»¬å°±å®Œæˆäº†å¯¹Complexç±»çš„å®šä¹‰ã€‚</p>
<p>æ¥ä¸‹æ¥å®šä¹‰ä¸€ä¸ªé€šç”¨çš„è®¡ç®—æ–¹æ³•</p>
<pre><code class="Py">def com_cal(func):
    def run(a,b):
        return func(a,b)
    return run
</code></pre>
<p>è¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼ˆè¿ç®—è§„åˆ™ï¼‰ï¼ˆé«˜é˜¶å‡½æ•°ç‰¹æ€§ï¼‰ï¼Œå‡½æ•°å†…éƒ¨å®šä¹‰ä¸€ä¸ªrun()æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•é‡Œä½¿ç”¨äº†ä¼ å…¥çš„è¿ç®—è§„åˆ™ï¼Œæœ€åcom_cal()å°†run()æ–¹æ³•è¿”å›ï¼ˆé—­åŒ…ç‰¹æ€§ï¼‰ã€‚</p>
<p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥å®šä¹‰å…·ä½“çš„è¿ç®—è§„åˆ™äº†</p>
<pre><code class="py">def com_add(a,b):
    return Complex(a.x+b.x, a.y+b.y)
</code></pre>
<p>å‡è®¾æˆ‘ä»¬ç›´æ¥ç”¨é—­åŒ…ï¼Œé‚£ä¹ˆå¯ä»¥å†™ä¸‹è¾¹çš„ä»£ç </p>
<pre><code class="py"># Closure
com_cal(com_add)(a,b) # 3i+4
</code></pre>
<p>ä½†æ˜¯è¿™æ ·çš„é—®é¢˜æ˜¯è¦å†™ä¸¤ä¸ªæ‹¬å·ï¼Œæ¢å¥è¯æ¥è¯´å°±æ˜¯ä¸å¤Ÿä¼˜é›…ã€‚è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨è£…é¥°å™¨äº†ï¼è£…é¥°å™¨çš„æœ¬è´¨å…¶å®å°±æ˜¯<strong>é—­åŒ…çš„è¯­æ³•ç³–</strong>ã€‚</p>
<p>é¦–å…ˆä¿®æ”¹ä¸€ä¸‹com_add()</p>
<pre><code class="py"># Decorator
@com_cal
def com_add(a,b):
    return Complex(a.x+b.x, a.y+b.y)
</code></pre>
<p>ç„¶åå°±å¯ä»¥è¿™æ ·ä½¿ç”¨</p>
<pre><code class="py">com_add(a,b) # 3i+4
</code></pre>
<p>è¿™æ ·çš„ä»£ç æ˜¯ä¸æ˜¯æ›´åŠ ç›´è§‚å¯è¯»æ€§æ›´å¥½ï¼Ÿè£…é¥°å™¨çš„ä½œç”¨å°±æ˜¯å°†è¢«è£…é¥°çš„å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥ç”¨äºè£…é¥°çš„å‡½æ•°ä¸­ï¼Œåœ¨è¿™é‡Œä¾‹å­ä¸­ï¼Œcom_cal()å°±æ˜¯è£…é¥°å‡½æ•°ï¼Œcom_add()å°±æ˜¯è¢«è£…é¥°çš„å‡½æ•°ï¼Œä¼šä½œä¸ºcom_cal()çš„å®å‚ï¼Œè¿™æ ·å®Œå…¨ç¬¦åˆcom_cal()çš„å‚æ•°è¦æ±‚ã€‚åœ¨è°ƒç”¨çš„æ—¶å€™å¯ä»¥æŠŠcom_add()å½“ä½œå·²ç»ä¼ å…¥äº†com_add()çš„run()æ–¹æ³•ï¼Œå› æ­¤ç»™å®ƒä¸¤ä¸ªComplexå®ä¾‹æ˜¯å®Œå…¨ç¬¦åˆçš„ã€‚</p>
<p>å…¨éƒ¨ä»£ç å¦‚ä¸‹</p>
<pre><code class="py">class Complex:
    def __init__(self,x,y):
        self.x = x
        self.y = y   
    def __repr__(self):
        return str(self.x) + &#39;i&#39; + (&#39;+&#39; if self.y &gt; 0 else &#39;&#39;) + str(self.y)

def com_cal(func):
    def run(a,b):
        return func(a,b)
    return run

# Decorator
@com_cal
def com_add(a,b):
    return Complex(a.x+b.x, a.y+b.y)

a = Complex(1,1)
b = Complex(2,3)

print(com_add(a,b)) # 3i+4
</code></pre>
<h2 id="é¢å¤–è¯é¢˜"><a href="#é¢å¤–è¯é¢˜" class="headerlink" title="é¢å¤–è¯é¢˜"></a>é¢å¤–è¯é¢˜</h2><p>è¿™ç¯‡æ–‡ç« è¾¾åˆ°äº†è®²è§£Pythonè£…é¥°å™¨çš„ç›®çš„ï¼Œä½†æ˜¯å¯¹äºæ‰€é€‰çš„ä¾‹å­æ¥è¯´å¹¶ä¸æ˜¯æœ€å¥½çš„ï¼Œæœ‰ç‚¹å¼ºè¡Œçš„æ„Ÿè§‰ã€‚å› ä¸ºæˆ‘å®Œå…¨å¯ä»¥ä½¿ç”¨æ›´å¥½çš„å®ç°ï¼Œä»£ç ä¹Ÿæ›´å°‘ã€‚</p>
<pre><code class="py">class Complex:
    def __init__(self,x,y):
        self.x = x
        self.y = y   
    def __repr__(self):
        return str(self.x) + &#39;i&#39; + (&#39;+&#39; if self.y &gt; 0 else &#39;&#39;) + str(self.y)
    def calc(self,func,another):
        return func(self, another)

a = Complex(1,1)
b = Complex(2,3)

print(a.calc(lambda a,b: Complex(a.x+b.x, a.y+b.y),b)) # 3i+4
</code></pre>
<p>è€Œä¸”å°±æ•°å­¦è¿ç®—æ¥è¯´ï¼Œå®Œå…¨è¿˜å¯ä»¥ä½¿ç”¨è¿ç®—ç¬¦é‡è½½æ¥å®ç°ã€‚ä¸‹æ¬¡é€‰ä¸ªå¥½ä¾‹å­(/â–½ï¼¼)</p>
]]></content>
      
        <categories>
            
            <category> Programming </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Python </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[é­”æœ¯å¸ˆçš„æ•°å­—æ¸¸æˆ]]></title>
      <url>/2018/07/12/magician-math-game/</url>
      <content type="html"><![CDATA[<p>è¿™ä¸ªé—®é¢˜çš„åç§°æ˜¯æˆ‘è‡ªå·±æƒ³çš„XDï¼Œæ‘˜å–è‡ªã€Šé™¶å“²è½©æ•™ä½ å­¦æ•°å­¦ã€‹é‡Œçš„ä¹ é¢˜2.1ï¼ŒåŸé—®é¢˜å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>åœ¨ä¸€ä¸ªå®¤å†…æ¸¸æˆä¸­ï¼Œâ€œé­”æœ¯å¸ˆâ€è¯·ä¸€ä½å‚ä¸è€…å…ˆæƒ³å‡ºä¸€ä¸ªä¸‰ä½æ•°abc<sub>10</sub>ã€‚ç„¶åï¼Œé­”æœ¯å¸ˆè®©è¯¥å‚ä¸è€…æŠŠ5ä¸ªæ•°acb<sub>10</sub>, bac<sub>10</sub>,  bca<sub>10</sub>, cab<sub>10</sub>, cba<sub>10</sub>åŠ èµ·æ¥ï¼Œå¹¶å‘Šè¯‰å¤§å®¶å®ƒä»¬çš„å’Œæ˜¯å¤šå°‘ã€‚å¦‚æœå®ƒä»¬çš„å’Œç­‰äº3194ï¼Œé‚£ä¹ˆæœ€åˆçš„abc<sub>10</sub>æ˜¯å¤šå°‘ï¼Ÿ  </p>
</blockquote>
<p>æˆ‘ä»¬å…ˆå°†é¢˜ç›®è½¬åŒ–ä¸ºç¬¦å·ç®€å•è¡¨ç¤ºå‡ºæ¥ï¼š</p>
<blockquote>
<ul>
<li>å–ä¸€ä¸ªæ•°ï¼Œabc<sub>10</sub>  </li>
<li>acb<sub>10</sub> + bac<sub>10</sub> + bca<sub>10</sub> + cab<sub>10</sub> + cba<sub>10</sub> = ?  </li>
<li>abc<sub>10</sub> = ?æ—¶ï¼Œacb<sub>10</sub> + bac<sub>10</sub> + bca<sub>10</sub> + cab<sub>10</sub> + cba<sub>10</sub> = 3194</li>
</ul>
</blockquote>
<p>å…ˆè§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œè¿™äº”ä¸ªæ•°çš„å’Œä¸º</p>
<blockquote>
<p>(a + 2b + 2c) x 100 + (2a + b + 2c) x 10 + (2a + 2b + c) = 122a + 212b + 221c</p>
</blockquote>
<p>ç¬¬äºŒä¸ªé—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥çŸ¥é“è¿™å…­ä¸ªæ•°çš„å’Œä¸º</p>
<blockquote>
<p>sum = (a + b + c) x 222 </p>
</blockquote>
<p>é‚£ä¹ˆå°±æ˜¯è¯´</p>
<blockquote>
<p>222 | sum</p>
</blockquote>
<p>å…¶ä¸­æˆ‘ä»¬çŸ¥é“äº†5ä¸ªæ•°çš„å’Œä¸º3194ï¼Œé‚£ä¹ˆ</p>
<blockquote>
<p>222 | (3194 + abc<sub>10</sub>)</p>
</blockquote>
<p>åˆ™æˆ‘ä»¬å°±å¯ä»¥è¿™æ ·æ±‚å¾—abc<sub>10</sub></p>
<blockquote>
<p>abc<sub>10</sub> % 222 = 222 - 3194 % 222 = 222 - 86 = 136</p>
<p>abc<sub>10</sub> = 136, 358, 580, 802  </p>
</blockquote>
<p>åˆå› ä¸º</p>
<blockquote>
<p>3194 = 14 x 222 + 86</p>
</blockquote>
<p>æ‰€ä»¥</p>
<blockquote>
<p>a + b + c &gt; 14</p>
</blockquote>
<p>é‚£ä¹ˆabc<sub>10</sub>åªèƒ½ä¸º358ã€‚</p>
]]></content>
      
        <categories>
            
            <category> Mathematic </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Mathematic </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ç¦æ­¢Windows10çš„åŠŸèƒ½æ›´æ–°]]></title>
      <url>/2018/07/04/disable-windows10-featureupdate/</url>
      <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯åŠŸèƒ½æ›´æ–°ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯åŠŸèƒ½æ›´æ–°ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯åŠŸèƒ½æ›´æ–°ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯åŠŸèƒ½æ›´æ–°ï¼Ÿ</h2><p>æ‰€è°“çš„åŠŸèƒ½æ›´æ–°å°±æ˜¯ç°åœ¨Windows10æ¯åŠå¹´æ¨å‡ºçš„è¾ƒå¤§çš„ç‰ˆæœ¬æ›´æ–°ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆè¦ç¦æ­¢åŠŸèƒ½æ›´æ–°"><a href="#ä¸ºä»€ä¹ˆè¦ç¦æ­¢åŠŸèƒ½æ›´æ–°" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç¦æ­¢åŠŸèƒ½æ›´æ–°?"></a>ä¸ºä»€ä¹ˆè¦ç¦æ­¢åŠŸèƒ½æ›´æ–°?</h2><p>ä¸€èˆ¬æ¥è¯´æˆ‘éƒ½ä¼šç¬¬ä¸€æ—¶é—´å»æ›´æ–°çš„ï¼Œä½†æ˜¯1803è¿™ä¸ªç‰ˆæœ¬æˆ‘ç¿»è½¦äº†ï¼Œä½¿ç”¨ä½“éªŒå·¨å·®ã€‚æ— å¥ˆä¹‹ä¸‹ï¼Œè¿˜æ˜¯å›åˆ°äº†1709ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘è¦å¦‚ä½•å°†1803çš„æ›´æ–°ç¦æ­¢æ‰ä½†æ˜¯ä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æ›´æ–°æ­£å¸¸è¿è¡Œå‘¢ï¼Ÿæ¯”å¦‚é©±åŠ¨æ›´æ–°å’Œè¡¥ä¸æ›´æ–°ï¼ŸLetâ€™s figure out!</p>
<h2 id="ä½¿ç”¨ç»„ç­–ç•¥"><a href="#ä½¿ç”¨ç»„ç­–ç•¥" class="headerlink" title="ä½¿ç”¨ç»„ç­–ç•¥"></a>ä½¿ç”¨ç»„ç­–ç•¥</h2><p>å¯¹äºProåŠæ›´é«˜çº§çš„Windows 10ç‰ˆæœ¬ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä½¿ç”¨ç»„ç­–ç•¥æ¥è¿›è¡Œé…ç½®ï¼Œåªéœ€è¦é¼ æ ‡ç‚¹ç‚¹ï¼Œé”®ç›˜æ•²å‡ ä¸ªæ•°å­—å³å¯æå®šã€‚</p>
<ol>
<li>æ‰“å¼€ç»„ç­–ç•¥</li>
<li><p>æ‰¾åˆ°è·¯å¾„<br><code>Computer Configuration\Administrative Templates\Windows Component\Windows Update\Windows Upate for Business</code>  </p>
<p><a href="/img/2018/06/snipaste_20180704_005409.png"><img src="/img/2018/06/snipaste_20180704_005409.png" alt=""></a></p>
</li>
<li><p>ç‚¹å¼€å³ä¾§çš„<code>Select when Preview Builds and Feature Updates are received</code>  </p>
<p><a href="snipaste_20180704_010428.png"><img src="/img/2018/06/snipaste_20180704_010428.png" alt=""></a>  </p>
<p>å…ˆè®¾ç½®ä¸º<strong>Enabled</strong>ï¼Œç„¶ååœ¨ä¸‹æ‹‰æ¡†é€‰æ‹©<strong>Semi-Annual Channel</strong>ã€‚å‰©ä¸‹çš„ä¸¤ä¸ªé€‰é¡¹æŒ‰ç…§å›¾ä¸­çš„ä¸­æ–‡æç¤ºå¡«å†™å°±å¥½äº†ã€‚</p>
</li>
<li>è®©ç»„ç­–ç•¥ç”Ÿæ•ˆ<br>æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨å‘½ä»¤è¡Œé‡Œæ•²<code>gpupdate /force</code>å³å¯ã€‚</li>
</ol>
<h2 id="ä½¿ç”¨æ³¨å†Œè¡¨"><a href="#ä½¿ç”¨æ³¨å†Œè¡¨" class="headerlink" title="ä½¿ç”¨æ³¨å†Œè¡¨"></a>ä½¿ç”¨æ³¨å†Œè¡¨</h2><p>å› ä¸ºä½äºProç‰ˆWindows 10æ²¡æœ‰ç»„ç­–ç•¥çš„ç¼˜æ•…ï¼Œé‚£ä¹ˆå°±è¦ç¥­å‡ºæ³¨å†Œè¡¨äº†ã€‚</p>
<ol>
<li>æ‰“å¼€æ³¨å†Œè¡¨  </li>
<li>æ‰¾åˆ°è·¯å¾„<br><code>Computer\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsUpdate\UpdatePolicy\PolicyState</code><br>ç›´æ¥Copyåˆ°è·¯å¾„æ¡†é‡Œå›è½¦å³å¯å®šä½åˆ°ç›®æ ‡ä½ç½®ã€‚</li>
<li>ä¿®æ”¹é¡¹<br><a href="/img/2018/06/snipaste_20180704_011254.png"><img src="/img/2018/06/snipaste_20180704_011254.png" alt=""></a><br>å›¾ä¸­æ¡†èµ·æ¥çš„æ˜¯è¦ä¿®æ”¹æˆ–è€…æ–°å»ºçš„é¡¹ï¼Œç„¶åå€¼å¡«å›¾ä¸­çš„ï¼ˆéƒ½æ˜¯åè¿›åˆ¶ï¼‰ï¼Œ<strong>FeatureUpdatesDeferralInDays</strong>è¿™ä¸ªå€¼ä¸ºè¦æ¨è¿Ÿæ¥å—æ›´æ–°çš„å¤©æ•°ã€‚</li>
<li>é‡å¯ä¸€ä¸ªå§</li>
</ol>
]]></content>
      
        <categories>
            
            <category> Windows </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Windows 10 </tag>
            
            <tag> Windows </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[éƒ¨ç½²Hexoåˆ°Azure]]></title>
      <url>/2018/05/03/hexo-host-on-azure/</url>
      <content type="html"><![CDATA[<h2 id="æ®‹è¡€ç‰ˆAzure-for-Students"><a href="#æ®‹è¡€ç‰ˆAzure-for-Students" class="headerlink" title="æ®‹è¡€ç‰ˆAzure for Students"></a>æ®‹è¡€ç‰ˆAzure for Students</h2><p>æœ¬æ¥æ˜¯æ‰“ç®—ç”¨EDUé‚®ç®±å¼„ä¸ªAzure for Studentsè®¢é˜…çš„ï¼Œç»“æœåªèƒ½å¼„ä¸ªAzure for Students Starterï¼Œå®Œå…¨æ˜¯æ®‹è¡€ç‰ˆï¼Œå¾ˆå¤šä¸œè¥¿éƒ½æ²¡æœ‰ï¼Œä¹Ÿæ²¡æœ‰$100é¢åº¦ã€‚ä¸è¿‡è€ƒè™‘åˆ°å¯ä»¥å…è´¹æŒ‚åšå®¢ï¼Œè¿˜æ˜¯å¯ä»¥ç”¨ç”¨çš„ï¼Œä¹‹å‰åšå®¢æŒ‚åœ¨ç¾å›½çš„VPSï¼Œè®¿é—®é€Ÿåº¦ä¸€èˆ¬èˆ¬ï¼Œå°¤å…¶æ˜¯æˆ‘çš„ç›¸å†ŒåŠ è½½å¾ˆæ…¢ã€‚è¿™é‡Œå°±è®°å½•ä¸€ä¸‹å¦‚ä½•å°†Hexoæ¶æ„çš„åšå®¢éƒ¨ç½²åˆ°Azureä¸Šã€‚</p>
<h2 id="æ–°å»ºWeb-App"><a href="#æ–°å»ºWeb-App" class="headerlink" title="æ–°å»ºWeb App"></a>æ–°å»ºWeb App</h2><p>åœ¨å·¦ä¾§çš„é¢æ¿é‡Œé€‰æ‹©<em>App Services</em>ï¼Œç„¶åæ–°å»ºä¸€ä¸ªWeb Appï¼Œé€‰æ‹©ä¸€ä¸ªLocationï¼Œæˆ‘é€‰äº†ä¸œäºšï¼Œè®¿é—®é€Ÿåº¦ä¼šå¥½ç‚¹ã€‚  </p>
<p><a href="/img/2018/02/snipaste_20180503_210508.png"><img src="/img/2018/05/snipaste_20180503_210508.png" alt="Location"></a>  </p>
<p>ç„¶åå¡«å…¥App nameå’Œå…¶ä»–ä¿¡æ¯ç‚¹å‡»ç¡®å®šç­‰å¾…ä¸€ä¸‹åˆ›å»ºå¥½äº†ã€‚ä¹‹åå°±å¯ä»¥é€šè¿‡è¿æ¥è®¿é—®é»˜è®¤çš„Webäº†  </p>
<p><a href="/img/2018/05/snipaste_20180503_174920.png"><img src="/img/2018/05/snipaste_20180503_174920.png" alt="DefalutWeb"></a></p>
<h2 id="è®¾ç½®éƒ¨ç½²æ–¹å¼"><a href="#è®¾ç½®éƒ¨ç½²æ–¹å¼" class="headerlink" title="è®¾ç½®éƒ¨ç½²æ–¹å¼"></a>è®¾ç½®éƒ¨ç½²æ–¹å¼</h2><p>é€‰ä¸­åˆšåˆšå»ºå¥½çš„Appï¼Œæ‰¾åˆ°<em>Deployment options</em>  </p>
<p><a href="/img/2018/05/snipaste_20180503_174332.png"><img src="/img/2018/05/snipaste_20180503_174332.png" alt="Deployment"></a>  </p>
<p>ç„¶åé€‰æ‹©Git  </p>
<p><a href="/img/2018/05/snipaste_20180503_174355.png"><img src="/img/2018/05/snipaste_20180503_174355.png" alt="Git"></a>  </p>
<p>è¿™é‡Œè®¾ç½®å¥½äº†ä¹‹åå°±å¯ä»¥åœ¨<em>Overview</em>é‡Œçœ‹åˆ°ç”¨äºpushçš„é“¾æ¥äº†ï¼Œä¹Ÿå¯ä»¥åœ¨<em>Property</em>é‡Œçœ‹ï¼Œè¿™é‡Œå¯ä»¥æŸ¥çœ‹åˆ°æ›´å¤šçš„å…¶ä»–é“¾æ¥ã€‚</p>
<h2 id="è®¾ç½®Hexoçš„repo"><a href="#è®¾ç½®Hexoçš„repo" class="headerlink" title="è®¾ç½®Hexoçš„repo"></a>è®¾ç½®Hexoçš„repo</h2><p>ç¼–è¾‘<em>_config.yml</em>ï¼Œå¡«å†™æ–°çš„repo  </p>
<p><a href="/img/2018/05/snipaste_20180503_212712.png"><img src="/img/2018/05/snipaste_20180503_212712.png" alt="Config"></a>  </p>
<p>ä¸Šè¾¹éƒ½åšå¥½äº†ä¹‹åå°±å¯ä»¥åœ¨Hexoé‡Œpushè¿‡å»äº†  </p>
<p><a href="/img/2018/05/snipaste_20180503_192137.png"><img src="/img/2018/05/snipaste_20180503_192137.png" alt="Push"></a>  </p>
<p>å†é‡æ–°è®¿é—®å°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„åšå®¢å•¦ï¼</p>
<h2 id="å…¶ä»–è®¾ç½®"><a href="#å…¶ä»–è®¾ç½®" class="headerlink" title="å…¶ä»–è®¾ç½®"></a>å…¶ä»–è®¾ç½®</h2><h3 id="ä¿®æ”¹gitç”¨æˆ·åå’Œå¯†ç "><a href="#ä¿®æ”¹gitç”¨æˆ·åå’Œå¯†ç " class="headerlink" title="ä¿®æ”¹gitç”¨æˆ·åå’Œå¯†ç "></a>ä¿®æ”¹gitç”¨æˆ·åå’Œå¯†ç </h3><p>æƒ³æ”¹ç”¨äºgitçš„ç”¨æˆ·åå’Œå¯†ç å¯ä»¥åœ¨<em>Deployment Credentials</em>é‡Œè®¾ç½®</p>
<h3 id="ä¿®æ”¹TSLç‰ˆæœ¬"><a href="#ä¿®æ”¹TSLç‰ˆæœ¬" class="headerlink" title="ä¿®æ”¹TSLç‰ˆæœ¬"></a>ä¿®æ”¹TSLç‰ˆæœ¬</h3><p>å¯ä»¥åœ¨<em>SSL Settings</em>é‡Œè®¾ç½®</p>
<h3 id="HTTPS-only"><a href="#HTTPS-only" class="headerlink" title="HTTPS only"></a>HTTPS only</h3><p>æƒ³è®©ç½‘ç«™åªèƒ½é€šè¿‡HTTPSè®¿é—®ï¼Œåªè¦åœ¨<em>Custom domains</em>é‡Œæ‰“å¼€å°±å¥½äº†  </p>
<p><a href="/img/2018/05/snipaste_20180503_215003.png"><img src="/img/2018/05/snipaste_20180503_215003.png" alt="HTTPSOnly"></a> </p>
<h3 id="è‡ªå®šä¹‰åŸŸå"><a href="#è‡ªå®šä¹‰åŸŸå" class="headerlink" title="è‡ªå®šä¹‰åŸŸå"></a>è‡ªå®šä¹‰åŸŸå</h3><p>é»˜è®¤çš„åŸŸåå¾ˆé•¿ï¼Œä¸è¿‡æ®‹è¡€ç‰ˆæ²¡æœ‰é¢åº¦ï¼Œæˆ‘å°±ä¸ä¿®æ”¹åŸŸåäº†ï¼Œä½ ä¹Ÿåˆ«æƒ³ç”¨å…¶ä»–çš„DNSè§£ææŠŠè‡ªå·±çš„åŸŸåè§£æè¿‡å»ï¼Œå¾®è½¯ç›´æ¥ç»™ä½ ç¦æ­¢è®¿é—®ã€‚çœ‹äº†ä¸‹æœ€ä¾¿å®œçš„ç›¸æ¯”Free PlanåªåŠ äº†Custom domainsçš„D1ä¹Ÿè¦$9.67/month/appï¼Œå¤ªè´µäº†ï¼Œæ”¾å¼ƒï¼Œå‘Šè¾ã€‚Azureç›ˆåˆ©è¿™ä¹ˆå¤šä¸æ˜¯æ²¡é“ç†çš„ã€‚  </p>
<p><a href="/img/2018/05/snipaste_20180503_214257.png"><img src="/img/2018/05/snipaste_20180503_214257.png" alt="CustomDomains"></a></p>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>æˆ‘çš„åšå®¢å½“ç„¶æ²¡æœ‰æ¬è¿ï¼Œæ²¡é”™ï¼Œå°±æ˜¯å› ä¸ºåŸŸåçš„é—®é¢˜ï¼Œå›½å†…æœ‹å‹è§‰å¾—è®¿é—®é€Ÿåº¦æ…¢å¯ä»¥è®¿é—®<a href="https://nokky.azuresites.net" target="_blank" rel="external">è¿™é‡Œ</a>ã€‚è¿™ä¸ªæ˜¯åœ¨Azureé‡Œçš„ï¼Œç®—ä½œå¤‡èƒå§ã€‚ </p>
]]></content>
      
        <categories>
            
            <category> Linux </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Azure </tag>
            
            <tag> VPS </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[åœ¨VSCé‡Œç¼–å†™è°ƒè¯•C/C++ç¨‹åº]]></title>
      <url>/2018/02/06/cpp-vsc/</url>
      <content type="html"><![CDATA[<h2 id="Changlogs"><a href="#Changlogs" class="headerlink" title="Changlogs"></a>Changlogs</h2><ul>
<li>2018.12.25<ul>
<li>åˆ©ç”¨CMakeæ„å»º</li>
</ul>
</li>
<li>2018.02.06<ul>
<li>åˆç‰ˆ</li>
</ul>
</li>
</ul>
<hr>
<p>åˆšé‡è£…å®Œç³»ç»Ÿï¼ŒVSé‡Œåªè£…äº†C#ï¼Œæƒ³åˆ°å¯èƒ½ä¼šç”¨åˆ°C/C++ï¼Œäºæ˜¯ä¹å°±ç”¨MinGW+CMake+VSCæ­å»ºä¸€ä¸‹å¼€å‘ç¯å¢ƒã€‚</p>
<h2 id="å®‰è£…MinGW"><a href="#å®‰è£…MinGW" class="headerlink" title="å®‰è£…MinGW"></a>å®‰è£…MinGW</h2><p>ç°åœ¨<a href="http://www.mingw.org/" target="_blank" rel="external">è¿™é‡Œ</a>æ‰¾åˆ°ä¸‹è½½å™¨ï¼Œç„¶åä¸‹è½½è¿›è¡Œå®‰è£…ã€‚å®‰è£…å®Œæˆåæ‰“å¼€å‹¾é€‰éœ€è¦å®‰è£…çš„é€‰é¡¹ã€‚è¿™é‡Œéœ€è¦é€‰æ‹©ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>mingw32-gcc</li>
<li>mingw32-gcc-g++</li>
<li>mingw-gdb<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¦é€‰æ‹©<code>class</code>ä¸º<code>bin</code>çš„ã€‚å¦‚ä¸‹å›¾ä¸ºä¾‹ï¼š<br><a href="/img/2018/02/snipaste_20180206_163843.png"><img src="/img/2018/02/snipaste_20180206_163843.png" alt="MinGW"></a><br>é€‰å®Œä¹‹åå®‰è£…ï¼Œè¿‡ç¨‹å¯èƒ½ä¼šå¾ˆæ…¢æˆ–è€…ç›´æ¥ä¸‹è½½å¤±è´¥ï¼Œç§‘å­¦ä¸Šç½‘å³å¯ã€‚å®‰è£…ç»“æŸä¹‹åè¦é…ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡ï¼Œæ·»åŠ <code>gdb.exe</code>ï¼Œ<code>mingw32-make.exe</code>ç­‰å·¥å…·çš„è·¯å¾„ï¼Œé»˜è®¤æ˜¯<code>C:\MinGW\bin</code>ã€‚å¦‚å›¾ï¼š<br><a href="/img/2018/02/snipaste_20180206_163807.png"><img src="/img/2018/02/snipaste_20180206_163807.png" alt="EditEnvironmentVariable"></a></li>
</ul>
<h2 id="å®‰è£…CMake"><a href="#å®‰è£…CMake" class="headerlink" title="å®‰è£…CMake"></a>å®‰è£…CMake</h2><p>è¿™é‡Œå€ŸåŠ©CMakeæ¥ç”ŸæˆMakefileï¼Œç§»æ­¥<a href="https://cmake.org/" target="_blank" rel="external">CMakeå®˜ç½‘</a></p>
<h2 id="ç”ŸæˆMakefile"><a href="#ç”ŸæˆMakefile" class="headerlink" title="ç”ŸæˆMakefile"></a>ç”ŸæˆMakefile</h2><p>å…ˆç¼–å†™CMakelists.txt</p>
<pre><code class="cmake">cmake_minimum_required(VERSION 3.12)
project(CppCmake)

set(CMAKE_CXX_STANDARD 11)
set(CMAKE_MAKE_PROGRAM cmd cmake)
set(PROJECT_VERSION 0.0.0.1)
set(CMAKE_CXX_FLAGS_DEBUG &quot;${CMAKE_CXX_FLAGS_DEBUG} -Wall&quot;)
set(CMAKE_CXX_FLAGS_RELEASE &quot;${CMAKE_CXX_FLAGS_RELEASE} -Wall&quot;)

include_directories(C:/MinGW/lib/gcc/mingw32/6.3.0/include/c++)
include_directories(./Headers)

add_executable(Main ./Src/Main.cxx)
</code></pre>
<p>ç„¶åè¿è¡Œå‘½ä»¤</p>
<p><code>cmake -S ./ -B ./GNU -G &quot;MinGW Makefiles&quot; -Wdev -Werror=dev -DCMAKE_BUILD_TYPE=Debug</code></p>
<h2 id="å®‰è£…C-C-æ’ä»¶"><a href="#å®‰è£…C-C-æ’ä»¶" class="headerlink" title="å®‰è£…C/C++æ’ä»¶"></a>å®‰è£…C/C++æ’ä»¶</h2><p>åœ¨VSCé‡Œæœç´¢<code>C/C++</code>ç„¶åå®‰è£…è¿™ä¸ªæ’ä»¶ã€‚<br><a href="/img/2018/02/snipaste_20180206_181253.png"><img src="/img/2018/02/snipaste_20180206_181253.png" alt="C/C++"></a></p>
<h2 id="é…ç½®C-C-é¡¹ç›®"><a href="#é…ç½®C-C-é¡¹ç›®" class="headerlink" title="é…ç½®C/C++é¡¹ç›®"></a>é…ç½®C/C++é¡¹ç›®</h2><p>ä¸€ä¸ªC/C++é¡¹ç›®ä¼šçš„é…ç½®æ–‡ä»¶åŒ…å«åœ¨<code>.vscode</code>æ–‡ä»¶å¤¹é‡Œï¼Œé‡Œé¢åŒ…å«äº†3ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯ï¼š  </p>
<ul>
<li>c_cpp_properties.json</li>
<li>launch.json</li>
<li>task.json<br>åªè¦æŠŠè¿™äº›æ–‡ä»¶é…ç½®ä¿¡æ¯å†™å¥½äº†æˆ‘ä»¬çš„Consoleé¡¹ç›®å°±èƒ½è¿è¡Œèµ·æ¥äº†ï¼Œè¿™äº›æ–‡ä»¶éƒ½ä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºï¼Œä¸‹é¢å°±è®²è®²å¦‚ä½•åˆ›å»ºå’Œå¡«å†™è¿™äº›æ–‡ä»¶çš„ä¿¡æ¯ã€‚</li>
</ul>
<h3 id="c-cpp-properties-json"><a href="#c-cpp-properties-json" class="headerlink" title="c_cpp_properties.json"></a>c_cpp_properties.json</h3><p>é”®ç›˜æŒ‰ä½<code>Ctrl+Shift+P</code>ï¼Œç„¶åè¾“å…¥<code>C/Cpp</code>ï¼Œç„¶åä»ä¸­é€‰æ‹©<code>Edit Configurations...</code><br><a href="/img/2018/02/snipaste_20180206_164042.png"><img src="/img/2018/02/snipaste_20180206_164042.png" alt="Configurations"></a><br>å‚è€ƒæ’ä»¶<a href="https://github.com/Microsoft/vscode-cpptools/blob/master/Documentation/LanguageServer/MinGW.md" target="_blank" rel="external">å®˜æ–¹é…ç½®</a>åšäº†äº›ä¿®æ”¹ï¼Œå®˜æ–¹çš„<code>includePath</code>å’Œ<code>path</code>è¿™ä¸¤ä¸ªå±æ€§å¡«å†™å¾—ä¸å¤Ÿå®Œæ•´ã€‚è¿™é‡Œç»™å‡ºäº†æˆ‘ä¿®æ”¹åçš„ï¼š</p>
<pre><code>{
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;Win32&quot;,
            &quot;includePath&quot;: [
                &quot;${workspaceFolder}/**&quot;,
                &quot;C:/MinGW/lib/gcc/mingw32/6.3.0/include/c++/**&quot;
            ],
            &quot;defines&quot;: [
                &quot;_DEBUG&quot;,
                &quot;UNICODE&quot;,
                &quot;_UNICODE&quot;
            ],
            &quot;compilerPath&quot;: &quot;g++.exe&quot;,
            &quot;cStandard&quot;: &quot;c11&quot;,
            &quot;cppStandard&quot;: &quot;c++17&quot;,
            &quot;intelliSenseMode&quot;: &quot;gcc-x64&quot;
        }
    ],
    &quot;version&quot;: 4
}
</code></pre><p>å¦‚æœä½ çš„VSCæç¤ºä½ æ‰¾ä¸åˆ°å¤´æ–‡ä»¶ï¼Œå°†é¼ æ ‡æ”¾åœ¨ä¸Šè¾¹ç„¶åå°±ä¼šæç¤ºä½ åº”è¯¥æ·»åŠ ä»€ä¹ˆè·¯å¾„åˆ°<code>includePath</code>é‡Œäº†ã€‚</p>
<h3 id="launch-json"><a href="#launch-json" class="headerlink" title="launch.json"></a>launch.json</h3><p>æ·»åŠ å·¦ä¾§çš„è™«å­å›¾æ ‡çš„<code>Debug</code>Buttonï¼ˆæˆ–è€…<code>Ctrl+Shift+D</code>ï¼‰ï¼Œç„¶åæ·»åŠ é…ç½®ã€‚<br><a href="/img/2018/02/snipaste_20180206_163956.png"><img src="/img/2018/02/snipaste_20180206_163956.png" alt="Launch"></a><br>é€‰æ‹©<code>GDB</code>çš„ã€‚å®Œæ•´æ–‡ä»¶å†…å®¹ï¼š  </p>
<pre><code>{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;(gdb) Launch&quot;,
            &quot;type&quot;: &quot;cppdbg&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;program&quot;: &quot;${workspaceFolder}/GNU/Main.exe&quot;,
            &quot;args&quot;: [],
            &quot;stopAtEntry&quot;: false,
            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,
            &quot;environment&quot;: [],
            &quot;externalConsole&quot;: true,
            &quot;MIMode&quot;: &quot;gdb&quot;,
            &quot;miDebuggerPath&quot;: &quot;C:/MinGW/bin/gdb.exe&quot;,
            &quot;setupCommands&quot;: [
                {
                    &quot;description&quot;: &quot;Enable pretty-printing for gdb&quot;,
                    &quot;text&quot;: &quot;-enable-pretty-printing&quot;,
                    &quot;ignoreFailures&quot;: true
                }
            ],
            &quot;preLaunchTask&quot;: &quot;GnuBuild&quot;
        }
    ]
}
</code></pre><h3 id="task-json"><a href="#task-json" class="headerlink" title="task.json"></a>task.json</h3><p><code>Ctrl+Shift+P</code>è¾“å…¥<code>tasks</code>ï¼Œé€‰æ‹©<code>Configure Task</code><br><a href="/img/2018/02/snipaste_20180206_175001.png"><img src="/img/2018/02/snipaste_20180206_175001.png" alt="Task"></a><br>æ–‡ä»¶å®Œæ•´å†…å®¹ï¼š</p>
<pre><code>{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    &quot;version&quot;: &quot;2.0.0&quot;,
    &quot;tasks&quot;: [
        {
            &quot;label&quot;: &quot;GnuBuild&quot;,
            &quot;type&quot;: &quot;shell&quot;,
            &quot;command&quot;: &quot;powershell ./GNUBuild.ps1&quot;,
            &quot;problemMatcher&quot;: {
                &quot;owner&quot;: &quot;cpp&quot;,
                &quot;fileLocation&quot;: [
                    &quot;relative&quot;,
                    &quot;${workspaceFolder}&quot;
                ],
                &quot;pattern&quot;: {
                    &quot;regexp&quot;: &quot;^(.*):(\\d+):(\\d+):\\s+(warning|error):\\s+(.*)$&quot;,
                    &quot;file&quot;: 1,
                    &quot;line&quot;: 2,
                    &quot;column&quot;: 3,
                    &quot;severity&quot;: 4,
                    &quot;message&quot;: 5
                }
            }
        }
    ]
}
</code></pre><p>GNUBuild.ps1çš„å†…å®¹å¦‚ä¸‹</p>
<pre><code class="powershell">Set-Location .\GNU
mingw32-make.exe
</code></pre>
<h2 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h2><p>ç¼–å†™ç®€å•çš„HelloWorldç¨‹åºæµ‹è¯•ä¸€ä¸‹</p>
<pre><code class="cpp">#include &lt;iostream&gt;
#include &quot;Math.hxx&quot;

using std::cout;
using std::endl;
using Zmus::Math;

int main()
{
    int v1 = 10;
    int v2 = 20;

    int ans = Math::Add&lt;int&gt;(v1, v2);
    cout &lt;&lt; ans &lt;&lt; endl;
    cout &lt;&lt; &quot;CMake&quot; &lt;&lt; endl;

    return 0;
}
</code></pre>
<p>æŒ‰F5è¿è¡Œï¼Œæ­£å¸¸ã€‚<br><a href="/img/2018/12/snipaste_20181226_120309.png"><img src="/img/2018/12/snipaste_20181226_120309.png" alt="Run"></a></p>
<h2 id="é™„"><a href="#é™„" class="headerlink" title="é™„"></a>é™„</h2><p>é¡¹ç›®ç›®å½•ç»“æ„<br><a href="/img/2018/12/snipaste_20181226_120947.png"><img src="/img/2018/12/snipaste_20181226_120947.png" alt="FileTree"></a></p>
]]></content>
      
        <categories>
            
            <category> Programming </category>
            
        </categories>
        
        
        <tags>
            
            <tag> C/C++ </tag>
            
            <tag> VSC </tag>
            
            <tag> CMake </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å®‰è£…ArchLinuxç³»ç»Ÿ]]></title>
      <url>/2018/01/31/archlinux-install/</url>
      <content type="html"><![CDATA[<p>æœ¬æ¥ä¸æƒ³å†™è¿™ç¯‡æ–‡ç« çš„ï¼Œä½†æ˜¯æƒ³åˆ°æˆ‘èŠ±äº†æŒºå¤šçš„æ—¶é—´åœ¨Archä¸Šå¯¼è‡´æ²¡åšåˆ°å…¶ä»–ä»€ä¹ˆäº‹æƒ…ï¼Œä¸å†™çš„è¯è§‰å¾—å¯¹ä¸èµ·è‡ªå·±çš„äº§å‡ºï¼Œä¹ŸåŒæ—¶æ–¹ä¾¿è‡ªå·±æ—¥åé‡è£…ã€‚<br>æœ¬æ–‡ç« ä¸»è¦æ˜¯é’ˆå¯¹UEFIå¯åŠ¨çš„ï¼ŒMBRçš„è¯æœ‰ç¨è®¸ä¸åŒï¼Œå¯å‚è€ƒè¿™ç¯‡<a href="http://www.viseator.com/2017/05/17/arch_install/" target="_blank" rel="external">æ–‡ç« </a>ã€‚</p>
<h2 id="å‰æœŸå‡†å¤‡"><a href="#å‰æœŸå‡†å¤‡" class="headerlink" title="å‰æœŸå‡†å¤‡"></a>å‰æœŸå‡†å¤‡</h2><ul>
<li>è¯è¯´Archçš„WikiçœŸæ˜¯ä¸°å¯Œï¼ŒæŸ¥Wikièƒ½è§£å†³æŒºå¤šé—®é¢˜äº†ï¼Œå»ºè®®çœ‹ã€‚</li>
<li>å®˜æ–¹çš„å®‰è£…Wikiï¼š<a href="https://wiki.archlinux.org/index.php/installation_guide" target="_blank" rel="external">Installation guide</a></li>
<li>åˆ¶ä½œä¸€ä¸ªå¯åŠ¨Uç›˜ï¼Œç”¨<a href="https://sourceforge.net/projects/usbwriter/" target="_blank" rel="external">USBWritter</a>å³å¯ã€‚</li>
<li>åœ¨Windowsçš„ç£ç›˜ç®¡ç†ä¸­åˆ’åˆ†å‡ºä¸€å—ç£ç›˜ç©ºé—´å‡ºæ¥ï¼Œæ— éœ€æ ¼å¼åŒ–ã€‚</li>
<li>å‡è®¾ä½ æ‡‚å¾—äº†å¦‚ä½•è®¾ç½®å¯åŠ¨é¡ºåº/å¿«é€Ÿå¯åŠ¨é€‰æ‹©ï¼Œè¿™é‡Œå¿½ç•¥ã€‚</li>
<li>vimçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•</li>
<li>æ¯æ¡å‘½ä»¤å‰éƒ½æœ‰æç¤ºç¬¦ï¼Œ<code>#</code>è¡¨ç¤ºrootç”¨æˆ·ä¸‹æ‰§è¡Œï¼Œ<code>$</code>è¡¨ç¤ºæ™®é€šç”¨æˆ·ä¸‹æ‰§è¡Œã€‚</li>
</ul>
<p>å¯åŠ¨è¿›å…¥Uç›˜çš„å®‰è£…å¼•å¯¼åï¼Œå¼€å§‹è¿›è¡Œä¸‹é¢çš„å®‰è£…æ­¥éª¤ã€‚</p>
<h2 id="è”ç½‘"><a href="#è”ç½‘" class="headerlink" title="è”ç½‘"></a>è”ç½‘</h2><p>æœ‰çº¿ç½‘<br><code># dhcpcd</code><br>æ— çº¿ç½‘<br><code># wifi-menu</code><br>ç½‘ç»œè¿æ¥å¥½äº†ä¹‹åå¯ä»¥è¿›è¡Œä¸€æ¬¡ç½‘ç»œé€šç•…æµ‹è¯•<br><code># ping baidu.com</code><br>ç¡®è®¤å¯ä»¥åè¿›è¡Œä¸‹ä¸€æ­¥ã€‚</p>
<h2 id="æ›´æ–°ç³»ç»Ÿæ—¶é—´"><a href="#æ›´æ–°ç³»ç»Ÿæ—¶é—´" class="headerlink" title="æ›´æ–°ç³»ç»Ÿæ—¶é—´"></a>æ›´æ–°ç³»ç»Ÿæ—¶é—´</h2><p><code># timedatectl set-ntp true</code>  </p>
<h2 id="åˆ†åŒº"><a href="#åˆ†åŒº" class="headerlink" title="åˆ†åŒº"></a>åˆ†åŒº</h2><p>åˆ†åŒºç”¨<code>fdisk</code><br>é¦–å…ˆ<br><code># fdisk -l</code><br>æŸ¥çœ‹ä¸€ä¸‹å½“å‰ç£ç›˜æƒ…å†µï¼ˆå…³æ³¨ç£ç›˜è·¯å¾„å’ŒEFIåˆ†åŒºè·¯å¾„ï¼ˆéå…¨æ–°ç£ç›˜ï¼‰ï¼‰ã€‚å› ä¸ºè¿™é‡Œæ˜¯å»ºç«‹åœ¨Windowså·²ç»å®‰è£…å¥½äº†çš„æƒ…å†µä¸‹è¿›è¡Œçš„ï¼Œæ‰€ä»¥è‚¯å®šä¼šæœ‰ä¸€ä¸ªEFIåˆ†åŒºï¼Œè®°ä½å®ƒçš„è·¯å¾„ï¼Œæˆ–è€…æƒ³å»ºç«‹ä¸€ä¸ªç‹¬ç«‹çš„EFIåˆ†åŒºä¹Ÿæ˜¯å¯ä»¥çš„ã€‚å¦‚æœä½ çš„ç£ç›˜æ˜¯æ–°çš„ï¼Œé‚£ä¹ˆå°±è¿˜è¦å»ºç«‹ä¸€ä¸ªGPTåˆ†åŒºè¡¨ã€‚<br><code># fdisk /dev/xxx</code><br>ï¼ˆè¿™é‡Œçš„xxxæ˜¯æŒ‡ä½ çš„ç£ç›˜è·¯å¾„ï¼Œä¸æ˜¯åˆ†åŒºè·¯å¾„ï¼‰è¿›å…¥æ“ä½œç•Œé¢ï¼Œç„¶åè¿›è¡Œä¸‹é¢çš„æ“ä½œã€‚</p>
<h3 id="å»ºç«‹EFIåˆ†åŒº"><a href="#å»ºç«‹EFIåˆ†åŒº" class="headerlink" title="å»ºç«‹EFIåˆ†åŒº"></a>å»ºç«‹EFIåˆ†åŒº</h3><p>è¾“å…¥<code>g</code>å»ºç«‹GPTåˆ†åŒºè¡¨ï¼ˆä»…å¯¹äºæ–°ç£ç›˜ï¼‰ã€‚ç„¶åè¾“å…¥<code>n</code>å»ºç«‹åˆ†åŒºï¼Œç„¶åä¼šè¦æ±‚æˆ‘ä»¬è¾“å…¥èµ·æ­¢æ‰‡åŒºï¼Œå¼€å§‹æ‰‡åŒºé»˜è®¤å°±å¥½ï¼Œç»“æŸæ‰‡åŒºå¯ä»¥è¾“å…¥ä¸€ä¸ªå¤§å°ï¼Œä¸€èˆ¬å¤§äº100Må°±å¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬è¾“å…¥<code>+200M</code>ï¼Œè¿™é‡Œå°±åˆ’åˆ†å‡ºæ¥äº†ä¸€ä¸ª200Må¤§å°çš„åˆ†åŒºç”¨ä½œå¼•å¯¼ã€‚è¾“å…¥<code>t</code>é€‰æ‹©æ–°å»ºåˆ†åŒºç±»å‹ï¼Œè¾“å…¥<code>1</code>è¡¨ç¤ºè¦å»ºç«‹EFIåˆ†åŒºï¼Œè¾“å…¥<code>w</code>ä½¿åˆšæ‰çš„åˆ†åŒºæ“ä½œç”Ÿæ•ˆã€‚åœ¨è¿™ä¹‹å‰å¯ä»¥è¾“å…¥<code>p</code>æ¥æŸ¥çœ‹åˆ†åŒºæƒ…å†µã€‚æœ€åæ ¼å¼åŒ–ä¸€ä¸‹æ–°å»ºåˆ†åŒº<br><code># mkfs.fat -F 32 /dev/xxxY</code><br>ï¼ˆè¿™é‡Œçš„xxxYæ˜¯æŒ‡ä½ çš„å¼•å¯¼åˆ†åŒºï¼‰ã€‚</p>
<h3 id="å»ºç«‹æ ¹åˆ†åŒº"><a href="#å»ºç«‹æ ¹åˆ†åŒº" class="headerlink" title="å»ºç«‹æ ¹åˆ†åŒº"></a>å»ºç«‹æ ¹åˆ†åŒº</h3><p>è¿™é‡Œæ²¡æœ‰å»ºç«‹å…¶ä»–åˆ†åŒºè€Œæ˜¯ç›´æ¥ä¸€ä¸ªæ ¹åˆ†åŒºï¼Œè¦æ˜¯æƒ³æŠŠLinuxå…¶ä»–è·¯å¾„æŒ‚åœ¨åˆ°ç‹¬ç«‹çš„åˆ†åŒºï¼ˆå› ä¸ºæˆ‘çš„æ˜¯åŒç³»ç»Ÿï¼Œç£ç›˜ç©ºé—´æœ¬æ¥å°±ä¸å¤Ÿäº†ï¼Œæ‡’å¾—å†åˆ†ï¼Œå¦‚æœæ˜¯è¦ç»å¿ƒè£…å•ç³»ç»Ÿï¼Œé‚£ä¹ˆå¯ä»¥åˆ’å‡ºæ›´å¤šçš„åˆ†åŒºï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥æ´»ç”¨æœç´¢å¼•æ“äº†è§£ä¸€ä¸‹Linuxçš„åˆ†åŒºã€‚åˆ†åŒºæ“ä½œæ˜¯ä¸€æ ·ï¼Œåªæ˜¯åœ¨<code>fstab</code>è®°å½•åˆ†åŒºè¡¨çš„æ—¶å€™ä¼šå¤šä¸€ç‚¹è®°å½•ã€‚<br><code># fdisk /dev/xxx</code><br>é€‰ä¸­ç£ç›˜ï¼Œç„¶åè¾“å…¥<code>n</code>æ–°å»ºåˆ†åŒºï¼Œå› ä¸ºæˆ‘æƒ³æŠŠå‰©ä¸‹çš„ç©ºé—´å…¨éƒ¨åˆ©ç”¨ä¸Šï¼Œæ‰€ä»¥è¾“å…¥èµ·æ­¢æ‰‡åŒºçš„æ—¶å€™éƒ½ç›´æ¥å›è½¦å°±å¥½äº†ã€‚åŒæ ·è¾“å…¥<code>w</code>ç”Ÿæ•ˆï¼Œç„¶åæ ¼å¼åŒ–åˆ†åŒº<br><code># mkfs.ext4 -b 4096 /dev/xxxY</code><br>(è¿™é‡Œçš„xxxYæ˜¯åˆšæ–°å»ºçš„æ ¹åˆ†åŒºï¼Œ4096æ˜¯ç¡®ä¿4Kå¯¹é½)ã€‚</p>
<h3 id="æŒ‚è½½æ ¹åˆ†åŒº"><a href="#æŒ‚è½½æ ¹åˆ†åŒº" class="headerlink" title="æŒ‚è½½æ ¹åˆ†åŒº"></a>æŒ‚è½½æ ¹åˆ†åŒº</h3><p><code># mount /dev/xxxY /mntï¼ˆxxxYæ˜¯æ ¹åˆ†åŒºï¼‰</code><br><code># mkdir /mnt/boot</code><br><code># mount /dev/xxxY /mnt/bootï¼ˆè¿™é‡Œçš„xxxYæ˜¯EFIåˆ†åŒºï¼‰</code></p>
<h2 id="æ›´æ¢è½¯ä»¶æº"><a href="#æ›´æ¢è½¯ä»¶æº" class="headerlink" title="æ›´æ¢è½¯ä»¶æº"></a>æ›´æ¢è½¯ä»¶æº</h2><p><code># vim /etc/pacman.d/mirrorlist</code>  </p>
<p>åœ¨é¡¶éƒ¨æ·»åŠ é€Ÿåº¦ä¼šè¾ƒå¿«ä¸€ç‚¹çš„æºï¼Œè¿™é‡Œæ·»åŠ äº†æ¸…åå¤§å­¦çš„æº</p>
<blockquote>
<p>Server = <a href="https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch" target="_blank" rel="external">https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</a>  </p>
</blockquote>
<p>ä¿å­˜é€€å‡ºã€‚</p>
<h2 id="å®‰è£…åŸºæœ¬ç³»ç»Ÿ"><a href="#å®‰è£…åŸºæœ¬ç³»ç»Ÿ" class="headerlink" title="å®‰è£…åŸºæœ¬ç³»ç»Ÿ"></a>å®‰è£…åŸºæœ¬ç³»ç»Ÿ</h2><p><code># pacstrap /mnt base base-devel</code><br>base-develåŒ…å«äº†åŸºæœ¬çš„å·¥å…·ï¼Œå¦‚sudoï¼Œpacmanç­‰ï¼Œå…·ä½“åŒ…å«äº†ä»€ä¹ˆå¯ä»¥åœ¨<a href="https://www.archlinux.org/groups/x86_64/base-devel/" target="_blank" rel="external">è¿™é‡Œ</a>æŸ¥çœ‹ã€‚</p>
<h2 id="é…ç½®ç³»ç»Ÿ"><a href="#é…ç½®ç³»ç»Ÿ" class="headerlink" title="é…ç½®ç³»ç»Ÿ"></a>é…ç½®ç³»ç»Ÿ</h2><h3 id="ç”Ÿæˆfstab"><a href="#ç”Ÿæˆfstab" class="headerlink" title="ç”Ÿæˆfstab"></a>ç”Ÿæˆfstab</h3><p>è¿™ä¸ªæ˜¯ç”¨æ¥è®©ç³»ç»ŸæŒ‚è½½åˆ†åŒºæ—¶å€™ç”¨çš„<br><code># genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</code><br>è¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œç”¨<br><code># vim /mnt/etc/fstab</code><br>æŸ¥çœ‹ç”Ÿæˆçš„æ–‡ä»¶ï¼Œæœ‰è¯¯å¯ä»¥ç¼–è¾‘å®ƒã€‚</p>
<h3 id="rootåˆ‡æ¢åˆ°ç³»ç»Ÿ"><a href="#rootåˆ‡æ¢åˆ°ç³»ç»Ÿ" class="headerlink" title="rootåˆ‡æ¢åˆ°ç³»ç»Ÿ"></a>rootåˆ‡æ¢åˆ°ç³»ç»Ÿ</h3><p><code># arch-chroot /mnt</code></p>
<h3 id="è®¾ç½®æ—¶åŒº"><a href="#è®¾ç½®æ—¶åŒº" class="headerlink" title="è®¾ç½®æ—¶åŒº"></a>è®¾ç½®æ—¶åŒº</h3><p><code># ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</code><br><code># hwclock --systohc</code><br>ç¬¬äºŒæ¡å‘½ä»¤æ˜¯åŒæ­¥ç¡¬ä»¶æ—¶é’Ÿä¸ºUTCã€‚</p>
<h3 id="å®‰è£…ä¼šç”¨åˆ°çš„è½¯ä»¶"><a href="#å®‰è£…ä¼šç”¨åˆ°çš„è½¯ä»¶" class="headerlink" title="å®‰è£…ä¼šç”¨åˆ°çš„è½¯ä»¶"></a>å®‰è£…ä¼šç”¨åˆ°çš„è½¯ä»¶</h3><p>æ¯”å¦‚vimç­‰<br><code># pacman -S vim dialog wpa_supplicant ntfs-3g networkmanager</code></p>
<h3 id="è®¾ç½®Locale"><a href="#è®¾ç½®Locale" class="headerlink" title="è®¾ç½®Locale"></a>è®¾ç½®Locale</h3><p><code># vim /etc/locale.gen</code><br>ç„¶åæ‰¾åˆ°</p>
<blockquote>
<p>zh_CN.UTF-8 UTF-8<br>  zh_HK.UTF-8 UTF-8<br>  zh_TW.UTF-8 UTF-8<br>en_US.UTF-8 UTF-8  </p>
</blockquote>
<p>è¿™å››è¡Œï¼Œå»æ‰æ³¨é‡Šã€‚æ¥ä¸‹æ¥è¿è¡Œè¿™æ¡å‘½ä»¤<br><code># locale-gen</code><br>ç„¶å<br><code># vim /etc/locale.conf</code></p>
<p>åœ¨ç¬¬ä¸€è¡Œå†™å…¥  </p>
<blockquote>
<p>LANG=en_US.UTF-8</p>
</blockquote>
<h3 id="è®¾ç½®ä¸»æœºå"><a href="#è®¾ç½®ä¸»æœºå" class="headerlink" title="è®¾ç½®ä¸»æœºå"></a>è®¾ç½®ä¸»æœºå</h3><p><code># vim /etc/hostname</code></p>
<p>è¾“å…¥ä½ å–œæ¬¢çš„ä¸»æœºåï¼ˆæ¯”å¦‚æˆ‘çš„mcarchï¼‰ã€‚ç„¶åç¼–è¾‘ä¸€ä¸‹hostsæ–‡ä»¶<br><code># vim /etc/hosts</code></p>
<p>ç„¶ååœ¨é‡Œè¾¹è¾“å…¥</p>
<blockquote>
<p>127.0.0.1    localhost<br>::1        localhost<br>127.0.1.1    mcarch.localdomain    mcarch</p>
</blockquote>
<h3 id="è®¾ç½®rootå¯†ç "><a href="#è®¾ç½®rootå¯†ç " class="headerlink" title="è®¾ç½®rootå¯†ç "></a>è®¾ç½®rootå¯†ç </h3><p><code># passwd</code></p>
<h3 id="å®‰è£…Intel-ucodeï¼ˆå†œä¼ç”¨æˆ·è¯·å¿½è§†ï¼‰"><a href="#å®‰è£…Intel-ucodeï¼ˆå†œä¼ç”¨æˆ·è¯·å¿½è§†ï¼‰" class="headerlink" title="å®‰è£…Intel-ucodeï¼ˆå†œä¼ç”¨æˆ·è¯·å¿½è§†ï¼‰"></a>å®‰è£…Intel-ucodeï¼ˆå†œä¼ç”¨æˆ·è¯·å¿½è§†ï¼‰</h3><p><code># pacman -S intel-ucode</code></p>
<h3 id="å®‰è£…Bootloader"><a href="#å®‰è£…Bootloader" class="headerlink" title="å®‰è£…Bootloader"></a>å®‰è£…Bootloader</h3><p><code># pacman -S os-prober //å¤šç³»ç»Ÿéœ€è¦</code><br><code># pacman -S grub efibootmgr</code></p>
<p>éƒ¨ç½²grub<br><code># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=grub</code></p>
<p>ç”Ÿæˆé…ç½®æ–‡ä»¶<br><code># grub-mkconfig -o /boot/grub/grub.cfg</code></p>
<p>å¦‚æœçˆ†å‡º</p>
<blockquote>
<p>warning failed to connect to lvmetadï¼Œfalling back to device scanning.</p>
</blockquote>
<p>è¿™ä¸ªè¯ï¼ˆé”™ï¼‰ä¸¸ï¼ˆè¯¯ï¼‰ï¼Œç®€å•è§£å†³æ–¹æ³•æ˜¯ç¼–è¾‘</p>
<blockquote>
<p>/etc/lvm/lvm.conf</p>
</blockquote>
<p>è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰¾åˆ°<code>use_lvmetad = 1</code>è¿™ä¸€è¡Œï¼ŒæŠŠ<code>1</code>æ”¹æˆ<code>0</code>å³å¯ã€‚</p>
<h3 id="é…ç½®Windowsçš„å¯åŠ¨å…¥å£"><a href="#é…ç½®Windowsçš„å¯åŠ¨å…¥å£" class="headerlink" title="é…ç½®Windowsçš„å¯åŠ¨å…¥å£"></a>é…ç½®Windowsçš„å¯åŠ¨å…¥å£</h3><p>å‚è€ƒ<a href="https://wiki.archlinux.org/index.php/GRUB#Windows_installed_in_UEFI-GPT_Mode_menu_entry" target="_blank" rel="external">è¿™é‡Œ</a>ï¼Œæ·»åŠ åˆ°<code>/boot/grub/grub.cfg</code>è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œåœ¨<code>Arch Linux</code>è¿™ä¸ª<code>menuentry</code>å‰æˆ–åæ·»åŠ Windowsçš„<code>menuentry</code></p>
<pre><code>if [ &quot;${grub_platform}&quot; == &quot;efi&quot; ]; then
    menuentry &quot;Windows 10&quot; {
        fs_uuid=CEC0-7D1B
        hints_string=--hint-bios,gpt1 --hint-efi=hd0,gpt1 --hint-baremetal=achi0,gpt1
        insmod part_gpt
        insmod fat
        insmod search_fs_uuid
        insmod chain
        search --fs-uuid --set=root $hints_string $fs_uuid
        chainloader /EFI/Microsoft/Boot/bootmgfw.efi
    }
fi
</code></pre><p>fs_uuidè¿™ä¸ªå€¼æ˜¯é€šè¿‡è¿™æ¡å‘½ä»¤å¾—åˆ°çš„<br><code># grub-probe --target=fs_uuid $esp/EFI/Microsoft/Boot/bootmgfw.efi</code><br>hints_stringçš„å€¼æ˜¯é€šè¿‡è¿™æ¡å‘½ä»¤å¾—åˆ°çš„<br><code># grub-probe --target=hints_string $esp/EFI/Microsoft/Boot/bootmgfw.efi</code><br>å¦‚æœä¸Šè¾¹ä¸¤æ¡å‘½ä»¤çˆ†è·¯å¾„é”™è¯¯ï¼Œç›´æ¥åˆ‡æ¢åˆ°bootmgfw.efiçš„è·¯å¾„ä¸‹<br><code># cd /boot/EFI/Microsoft/Boot</code><br>ç„¶åå»æ‰bootmgfw.efiå‰è¾¹çš„è·¯å¾„æ‰§è¡Œã€‚æ¯”å¦‚ç¬¬ä¸€æ¡å‘½ä»¤<br><code># grub-probe --target=fs_uuid bootmgfw.efi</code><br>è¿˜æœ‰å¯èƒ½çˆ†çš„é”™æ˜¯è·å–hints_stringçš„æ—¶å€™ï¼Œå› ä¸ºæˆ‘çš„SSDæ˜¯NVMeçš„ï¼Œç„¶åçˆ†å‡ºäº†è¿™ä¸ªé”™è¯¯</p>
<blockquote>
<p>grub-probe: warning: unknown device type nvme0n1.</p>
</blockquote>
<p>æˆ‘Googleäº†ä¸€ä¸‹å¹¶æ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ[ç»æœ›è„¸.jpg]ï¼Œäºæ˜¯è‡ªå·±è‡†æµ‹Wikiç»™å‡ºçš„å¤§æ¦‚é‚£æ˜¯å•å—ç£ç›˜çš„è¾“å‡ºï¼Œæ‰€ä»¥æˆ‘ç›´æ¥å°±copyäº†Wikiç»™å‡ºçš„å€¼ã€‚</p>
<blockquote>
<p>â€“hint-bios=hd0,gpt1 â€“hint-efi=hd0,gpt1 â€“hint-baremetal=ahci0,gpt1</p>
</blockquote>
<p>æˆ‘å¤§æ¦‚çŒœæµ‹ä¸€ä¸‹<code>hd0</code>æ˜¯æŒ‡ç¬¬1å—ç£ç›˜ï¼Œåœ¨<code>fdisk -l</code>çš„è¾“å‡ºç»“æœä¸­ï¼Œæˆ‘çš„ç£ç›˜æ˜¯<code>nvme0n1</code>ï¼Œå¦‚æœæœ‰ç¬¬äºŒå—NVMeç£ç›˜åº”è¯¥å°±æ˜¯<code>nvme1n1</code>ã€‚å¦‚æœä½ åªæœ‰å•å—NVMeç£ç›˜ï¼Œé‚£ä¹ˆè¿™ä¹ˆå†™æ˜¯æ²¡é”™çš„ï¼Œäº²æµ‹èƒ½æ­£å¸¸å¯åŠ¨Windowsã€‚è€Œæˆ‘æµ‹è¯•äº†gptåè¾¹çš„æ•°å­—å†™ä»€ä¹ˆéƒ½å¯ä»¥å¯åŠ¨ï¼Œå¦‚æœä½ æœ‰å¤šå—ç£ç›˜ï¼Œä½ ä¹Ÿæ˜¯å¯ä»¥æµ‹è¯•ä¸€ä¸‹ã€‚æ¬¢è¿åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„ç»“æœã€‚;)</p>
<blockquote>
<p>æ ¹æ®ç½‘å‹tpobçš„è¯´æ³•æ˜¯ï¼šBIOSé‡Œæ˜¯ç¬¬å‡ å—ç¡¬ç›˜å°±æ˜¯hdå‡ ã€‚ï¼ˆçœ‹æ¥å’Œæˆ‘çŒœæƒ³çš„ä¸€è‡´ï¼‰</p>
</blockquote>
<h3 id="æ·»åŠ æ–°ç”¨æˆ·"><a href="#æ·»åŠ æ–°ç”¨æˆ·" class="headerlink" title="æ·»åŠ æ–°ç”¨æˆ·"></a>æ·»åŠ æ–°ç”¨æˆ·</h3><p><code># adduser -m -G wheel [username]</code><br>è®¾ç½®å¯†ç <br><code># passwd [username]</code><br>æ·»åŠ sudo<br><code># vim /etc/sudoers</code><br>æ‰¾åˆ°</p>
<blockquote>
<p># %wheel ALL=(ALL)ALL</p>
</blockquote>
<p>è¿™è¡Œï¼ŒæŠŠ<code>#</code>å»æ‰ï¼Œä¿å­˜é€€å‡ºã€‚</p>
<h3 id="å®‰è£…yaourt"><a href="#å®‰è£…yaourt" class="headerlink" title="å®‰è£…yaourt"></a>å®‰è£…yaourt</h3><p><code># vim /etc/pacman.conf</code><br>åœ¨æœ«å°¾åŠ ä¸Š</p>
<blockquote>
<p>[archlinuxcn]<br>SigLevel = Optional TrustAll<br>Server = <a href="https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch" target="_blank" rel="external">https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch</a></p>
</blockquote>
<p>ç„¶åè¿è¡Œ<br><code># pacman -Sy yaourt fakeroot</code></p>
<h2 id="é‡å¯"><a href="#é‡å¯" class="headerlink" title="é‡å¯"></a>é‡å¯</h2><p><code># exit</code><br><code># reboot</code><br>ALL DONEï¼é‡å¯åå¯ä»¥ç”¨æ–°å»ºçš„ç”¨æˆ·ç™»é™†ï¼Œç„¶åè”ç½‘è¿›è¡Œååºçš„<a href="../archlinux-gnome-install/">æ¡Œé¢å®‰è£…</a>ã€‚</p>
<h2 id="å®‰è£…æ¡Œé¢"><a href="#å®‰è£…æ¡Œé¢" class="headerlink" title="å®‰è£…æ¡Œé¢"></a>å®‰è£…æ¡Œé¢</h2><h3 id="å®‰è£…æ˜¾å¡é©±åŠ¨"><a href="#å®‰è£…æ˜¾å¡é©±åŠ¨" class="headerlink" title="å®‰è£…æ˜¾å¡é©±åŠ¨"></a>å®‰è£…æ˜¾å¡é©±åŠ¨</h3><p>åœ¨<a href="https://wiki.archlinux.org/index.php/xorg#Driver_installation" target="_blank" rel="external">è¿™é‡Œ</a>å¯ä»¥æ‰¾åˆ°ä½ çš„æ˜¾å¡å¯¹åº”çš„åŒ…ã€‚æˆ‘çš„æ˜¯Intelçš„é›†æ˜¾ï¼Œæ‰€ä»¥æˆ‘æ‰§è¡Œè¿™æ¡å‘½ä»¤<br><code>$ sudo pacman -S xf86-video-intel</code></p>
<h3 id="å®‰è£…X"><a href="#å®‰è£…X" class="headerlink" title="å®‰è£…X"></a>å®‰è£…X</h3><p><code>$ sudo pacman -S xorg xorg-xinit xterm xorg-xeyes xorg-xclock</code></p>
<h3 id="å®‰è£…gnomeæ¡Œé¢"><a href="#å®‰è£…gnomeæ¡Œé¢" class="headerlink" title="å®‰è£…gnomeæ¡Œé¢"></a>å®‰è£…gnomeæ¡Œé¢</h3><p>å…¶ä»–æ¡Œé¢è¯·æ´»ç”¨æœç´¢å¼•æ“ã€‚<br><code>$ sudo pacman -S gnome</code><br>å› ä¸ºæ¡Œé¢æ˜¯ç”¨NetworkManagerï¼Œå› æ­¤è¦è®©å®ƒå¯åŠ¨å¹¶å¼€å¯è‡ªå¯<br><code>$ sudo systemctl enable NetworkManager</code><br><code>$ sudo systemctl start NetworkManager</code></p>
<h3 id="å®‰è£…å·¥å…·æ ç½‘ç»œå›¾æ ‡"><a href="#å®‰è£…å·¥å…·æ ç½‘ç»œå›¾æ ‡" class="headerlink" title="å®‰è£…å·¥å…·æ ç½‘ç»œå›¾æ ‡"></a>å®‰è£…å·¥å…·æ ç½‘ç»œå›¾æ ‡</h3><p><code>$ sudo pacman -S network-manager-applet</code><br>ä¹‹åè®©gdmå¼€å¯è‡ªåŠ¨ç„¶åå¯åŠ¨å®ƒï¼Œè¿™æ—¶å€™å°±å¯ä»¥çœ‹åˆ°æ¡Œé¢äº†<br><code>$ sudo systemctl enable gdm</code><br><code>$ sudo systemctl start gdm</code></p>
<p>æ¡Œé¢å®‰è£…å®Œäº†ä¹‹åå¯ä»¥è¿›è¡Œä¸€äº›<a href="">è½¯ä»¶å®‰è£…(ä¸å†™äº†å°±è¿™æ ·å‘å¸ƒå§=ã€‚=)</a></p>
]]></content>
      
        <categories>
            
            <category> Linux </category>
            
        </categories>
        
        
        <tags>
            
            <tag> ArchLinux </tag>
            
            <tag> Linux </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[è®°ä¸€æ¬¡C#çˆ¬è™«ç»å†]]></title>
      <url>/2018/01/06/crawler/</url>
      <content type="html"><![CDATA[<p>è¿™å‡ å¤©éƒ½åœ¨å†™C++ï¼Œæ„Ÿè§‰éƒ½è¦åäº†ï¼ˆåŸè°…æˆ‘å¤ªæ¸£(/â–½ï¼¼)ï¼‰ï¼Œé€‚å½“å†™å†™C#è½¬æ¢ä¸€ä¸‹å¿ƒæƒ…ã€‚æ—¢ç„¶è¦è½¬æ¢å¿ƒæƒ…ï¼Œé‚£ä¹ˆå°±åº”è¯¥æœ‰ç‚¹ä¹è¶£ï¼Œé‚£å°±æŠŠæˆ‘ä»¬å­¦é™¢çš„æ‰€æœ‰äººçš„äººå¤´ç…§éƒ½çˆ¬äº†å§ï¼<br>æˆ‘æ ¡çš„äººå¤´ç…§å¾ˆå¥½çˆ¬ï¼Œè¿è®¤è¯éƒ½ä¸ç”¨å°±å¯ä»¥ç”¨ç›´é“¾Getåˆ°ã€‚</p>
<h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><p>å½“ç„¶è¦å‡†å¤‡ä¸€ä¸‹æ‰€æœ‰äººçš„èŠ±åå†Œï¼Œè¿™ä¸ªä¸éš¾getåˆ°ï¼Œè¿™å­¦æœŸåˆ†ä¸“ä¸šçš„æ—¶å€™æœ‰excelæ–‡ä»¶å…¬ç¤ºï¼Œcopyï¼Œpasteï¼Œå®Œå·¥ã€‚</p>
<h1 id="æ•²ä»£ç "><a href="#æ•²ä»£ç " class="headerlink" title="æ•²ä»£ç "></a>æ•²ä»£ç </h1><p>è¿™é‡Œä¸€å…±å‡†å¤‡ä¸¤ä¸ªæ–¹æ³•å³å¯ï¼Œä¸€ä¸ªç”¨æ¥è¯»å–æ–‡ä»¶ï¼Œè·å¾—æ‰€æœ‰äººçš„å­¦å·å’Œå§“åï¼Œå¦ä¸€ä¸ªæ–¹æ³•è´Ÿè´£æŠŠè¿™äº›ç…§ç‰‡downloadä¸‹æ¥ã€‚</p>
<h2 id="æ–‡ä»¶è¯»å–"><a href="#æ–‡ä»¶è¯»å–" class="headerlink" title="æ–‡ä»¶è¯»å–"></a>æ–‡ä»¶è¯»å–</h2><pre><code class="CSharp">static Dictionary&lt;string, string&gt; GetInfo()
{
    Dictionary&lt;string, string&gt; dictionary = new Dictionary&lt;string, string&gt;();

    using (StreamReader sr = new StreamReader(&quot;id_names.txt&quot;))
    {
        string line = null;
        while ((line = sr.ReadLine()) != null)
        {
            var words = line.Split(&#39; &#39;);
            dictionary.Add(words[0], words[1]);
        }
    }
    return dictionary;
}
</code></pre>
<p>å‡½æ•°è¿”å›ä¸€ä¸ªä»¥å­¦å·ä¸ºKeyï¼Œå§“åä¸ºValueçš„å­—å…¸ï¼Œæœ‰äº†è¿™ä¸ªå­—å…¸ï¼Œæˆ‘ä»¬å°±å¯ä»¥éå†æ‰€æœ‰çš„å…ƒç´ ç„¶åçˆ¬å›¾äº†ã€‚</p>
<h2 id="çˆ¬å›¾"><a href="#çˆ¬å›¾" class="headerlink" title="çˆ¬å›¾"></a>çˆ¬å›¾</h2><pre><code class="CSharp">static void PullImage(string url, string id, string name)
{
    string _url = url + id + &quot;.jpg&quot;;
    HttpWebRequest webRequest = WebRequest.Create(_url) as HttpWebRequest;

    Image img = null;
    try
    {
        var webResponse = webRequest.GetResponse();
        var stream = webResponse.GetResponseStream();
        img = Image.FromStream(stream);
        img.Save($&quot;pics/{id} {name}.jpg&quot;);
    }
    catch (Exception e)
    {
        Console.WriteLine($&quot;Get {name}&#39;s pic with error.&quot;);
        Console.WriteLine(e.Message);
    }
}
</code></pre>
<p>æ·»åŠ å¼‚å¸¸æ•è·ï¼Œä¸ç„¶ä¼šå› ä¸ºæŸä¸ªå›¾ç‰‡è·å–è¿‡ç¨‹å‡ºç°é”™è¯¯è€Œå¯¼è‡´ç¨‹åºå¥”æ‰ï¼Œåç»­å­¦ç”Ÿçš„ç…§ç‰‡è·å–ä¸­æ–­ã€‚  </p>
<h2 id="æ‰§è¡Œ"><a href="#æ‰§è¡Œ" class="headerlink" title="æ‰§è¡Œ"></a>æ‰§è¡Œ</h2><p>ä¸¤ä¸ªå‡½æ•°éƒ½å‡†å¤‡å¥½äº†ï¼Œé‚£ä¹ˆå°±å¼€å§‹å®éªŒå§ï¼</p>
<pre><code class="CSharp">static void Main(string[] args)
{
    string url = &quot;http://xxx/xxx/photo/student/&quot;; //è¿™é‡ŒæŠŠé“¾æ¥æŠ¹æ‰äº†

    var ret = GetInfo();
    foreach (var r in ret)
    {
        PullImage(url, r.Key, r.Value);
        Thread.Sleep(1300); //æš‚åœ1.3ç§’ï¼Œä¸ç„¶å¯èƒ½ä¼šå› ä¸ºé¢‘ç¹å‘é€è¯·æ±‚æœåŠ¡å™¨æ–¹é¢å‡ºç°é—®é¢˜ï¼ˆæ¯•ç«ŸåœŸè±†æœåŠ¡å™¨ï¼‰
    }

    Console.WriteLine(&quot;Done&quot;);
    Console.ReadLine();

}
</code></pre>
<h1 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h1><p>æœ€åçš„è¿è¡Œç»“æœå¦‚ä¸‹å›¾ï¼Œä¸€ä¸ªå­¦ç”Ÿçš„ç…§ç‰‡è·å–è¶…æ—¶äº†ï¼Œè¿˜è¡Œã€‚<br><a href="/img/2018/01/snipaste_20180106_203755.png"><img src="/img/2018/01/snipaste_20180106_203755.png" alt=""></a><br>è¿™ä¸‹æˆ‘å¯ä»¥è®¤è¯†è®¤è¯†æœ¬å­¦é™¢æ‰€æœ‰äººäº†ï¼Œå˜»å˜»å˜»(à²¥ _ à²¥)</p>
]]></content>
      
        <categories>
            
            <category> Programming </category>
            
        </categories>
        
        
        <tags>
            
            <tag> C# </tag>
            
            <tag> .NET </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Json.NET]]></title>
      <url>/2017/09/20/json-in-dotnet/</url>
      <content type="html"><![CDATA[<p>JSON(JavaScript Object Notation) is popularly used nowadays. For JavaScript, itâ€™s easy to convert a object to json. How about C#? How do we get some properties we need from a json typed object? And how do we convert our object into json formatted text? This article aims to solve the problems. You will see it can be convenient to solve the problems<strong><em>.(â—â€™â—¡â€™â—)</em></strong></p>
<h1 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h1><p>There is one thing we need to do before start. That is installing the a NuGet package named <em><strong>JSON.NET</strong></em>. In Visual Studio, we can search any package and install it easily. Search <em><strong>JSON.NET</strong></em>, then install it to you project.</p>
<p><a href="/img/2017/09/snipaste_20170920_201049.png"><img src="/img/2017/09/snipaste_20170920_201049.png" alt="snipaste_20170920_201049"></a></p>
<h1 id="Serialization-and-Deserialization"><a href="#Serialization-and-Deserialization" class="headerlink" title="Serialization and Deserialization"></a>Serialization and Deserialization</h1><p>These operations are suitable for the definitive type we know or define. For example, we now have a class named <strong>Rectangle.</strong></p>
<pre><code class="CSharp">class Rectangle
{
    public int Height { get; set; }
    public int Width { get; set; }
    private Rectangle() { }
    public Rectangle(int height,int width)
    {
        Height = height;
        Width = width;
    }
}
</code></pre>
<p>Then we need to refer one namespace.</p>
<p><code>using Newtonsoft.Json;</code></p>
<p>After that, we can use class <strong>JsonConvert</strong> to serialize a Rectangle typed object or a list of Rectangle typed objects. Code as follow.</p>
<pre><code class="CSharp">List list = new List();
list.Add(new Rectangle(1, 2));
list.Add(new Rectangle(45, 23));
string json = JsonConvert.SerializeObject(list);
</code></pre>
<p>If we print variable <code>json</code> to the console window, we can see the result as this.</p>
<p><a href="/img/2017/09/snipaste_20170920_204618.png"><img src="/img/2017/09/snipaste_20170920_204618.png" alt="snipaste_20170920_204618"></a></p>
<p>How about deserialize object(s) from a json formatted text? Much easy! Only one line code!</p>
<pre><code class="CSharp">var objs = JsonConvert.DeserializeObject&lt;List&lt;Rectangle&gt;&gt;(json);
</code></pre>
<p>You may doubt whether itâ€™s correct. Well, letâ€™s verify that. Write some code as follow.</p>
<pre><code class="CSharp">for (int i = 0; i &amp;lt; objs.Count; i++)
{
    Console.WriteLine($&quot;{i + 1}th object info:&quot;
        + $&quot;Height:{objs[i].Height} Width:{objs[i].Width}&quot;);
}
</code></pre>
<p>We will get the result.</p>
<p><a href="/img/2017/09/snipaste_20170920_205856.png"><img src="/img/2017/09/snipaste_20170920_205856.png" alt="snipaste_20170920_205856"></a></p>
<p><strong>Correct! Congratulation!</strong></p>
<h1 id="Pick-Properties-from-JSON"><a href="#Pick-Properties-from-JSON" class="headerlink" title="Pick Properties from JSON"></a>Pick Properties from JSON</h1><p>Consider one situation, we get some JSON typed text from any way like API. One problem we will face is that we donâ€™t have a exact type for that. Thus, we canâ€™t deserialize it to a exact typed object. Thanks to JSON.NET this powerful library, we can continue to work in such situation without too much code. Letâ€™s figure out!</p>
<p>Firstly, get json formatted text via API.</p>
<pre><code class="CSharp">HttpWebRequest request = (HttpWebRequest)WebRequest.Create(@&quot;http://samples.openweathermap.org/data/2.5/weather?q=London,uk&amp;amp;appid=b1b15e88fa797225412429c1c50c122a1&quot;);
request.Method = &quot;GET&quot;;
request.ContentType = &quot;text/json&quot;;
var response = request.GetResponse();
string json = string.Empty;
using (StreamReader sr = new StreamReader(response.GetResponseStream()))
{
    json = sr.ReadToEnd();
}
</code></pre>
<p>If we print variable <code>json</code> out, we will see this.</p>
<p><a href="/img/2017/09/snipaste_20170920_210725.png"><img src="/img/2017/09/snipaste_20170920_210725.png" alt="snipaste_20170920_210725"></a></p>
<p>If we want to get wind speed, we can write this code.</p>
<pre><code class="CSharp">JToken token = JObject.Parse(json);
string speed = (string)token.SelectToken(&quot;wind&quot;).SelectToken(&quot;speed&quot;);
</code></pre>
<p>The variable speed is the result we want. Not complicated.</p>
<h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1><p><a href="https://www.newtonsoft.com/json/help/html/Introduction.htm" target="_blank" rel="external">Docs</a><br>(ï¿£yâ–½ï¿£)â•­ Ohohohoâ€¦..</p>
]]></content>
      
        <categories>
            
            <category> Programming </category>
            
        </categories>
        
        
        <tags>
            
            <tag> C# </tag>
            
            <tag> .NET </tag>
            
            <tag> JSON </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä¸ºWindowsæ–°å¢å³é”®èœå•é¡¹]]></title>
      <url>/2017/07/17/add-right-click-menu/</url>
      <content type="html"><![CDATA[<p>Windowsä¸­ï¼Œé™¤äº†ç³»ç»Ÿè‡ªå¸¦çš„ä¸€äº›å³é”®èœå•é¡¹ä¹‹å¤–ï¼Œåœ¨ä¸€äº›æ—¶å€™æˆ‘ä»¬å®‰è£…è½¯ä»¶åå¯ä»¥å‘ç°åœ¨å³é”®èœå•æ–°å¢äº†ä¸€äº›è½¯ä»¶çš„ç›¸å…³å³é”®èœå•é¡¹ï¼Œå°±åƒè¿™æ ·</p>
<p><a href="/img/2017/07/snipaste_20170717_223144.png"><img src="/img/2017/07/snipaste_20170717_223144.png" alt=""></a></p>
<p>Okï¼Œé‚£ä¹ˆæˆ‘ä»¬æƒ³è‡ªå·±ä¹Ÿå¼„ä¸€ä¸ªæ€ä¹ˆåŠå‘¢ï¼Ÿä¸‹é¢å¼€å§‹æ­£ç‰‡ï¼Œ<span style="font-weight: bold; color: #d14;">å‹æƒ…æé†’ï¼šæœ¬æ–‡ä¼šæ¶‰åŠåˆ°ä¿®æ”¹æ³¨å†Œè¡¨ï¼Œè¯·å¤‡ä»½å¥½åŸæ³¨å†Œè¡¨åå†ä¿®æ”¹ã€‚</span></p>
<h2 id="æ‰“å¼€æ³¨å†Œè¡¨"><a href="#æ‰“å¼€æ³¨å†Œè¡¨" class="headerlink" title="æ‰“å¼€æ³¨å†Œè¡¨"></a>æ‰“å¼€æ³¨å†Œè¡¨</h2><p>Win+Rè¿è¡Œregedit</p>
<p><a href="/img/2017/07/snipaste_20170717_224739.png"><img src="/img/2017/07/snipaste_20170717_224739.png" alt=""></a></p>
<p>æ‰¾åˆ°è¯¥è·¯å¾„ï¼š<br><code>HKEY_CLASSES_ROOT\Directory\Background\shell</code></p>
<h2 id="å¢æ·»æ–°é¡¹"><a href="#å¢æ·»æ–°é¡¹" class="headerlink" title="å¢æ·»æ–°é¡¹"></a>å¢æ·»æ–°é¡¹</h2><p>é€‰ä¸­<code>shell</code>ç„¶åå³é”®<code>New</code>-&gt;<code>Key</code>æ–°å»ºä¸€ä¸ªé¡¹ï¼Œå¦‚å›¾</p>
<p><a href="/img/2017/07/snipaste_20170717_225314.png"><img src="/img/2017/07/snipaste_20170717_225314.png" alt=""></a></p>
<p>æˆ‘å‘½åä¸ºCmderï¼Œåœ¨æ–°å»ºçš„<code>Cmder</code>é¡¹ä¸‹åœ¨æ–°å»ºä¸€ä¸ªé¡¹ï¼Œå‘½åä¸º<code>command</code>ï¼Œç„¶åä¿®æ”¹å…¶ä¸‹é»˜è®¤é”®çš„å€¼ä¸ºè¦è¿è¡Œç¨‹åºçš„è·¯å¾„ã€‚æ¯”å¦‚æˆ‘çš„</p>
<p><a href="/img/2017/07/snipaste_20170717_230121.png"><img src="/img/2017/07/snipaste_20170717_230121.png" alt=""></a></p>
<p>ç„¶ååœ¨èµ„æºç®¡ç†å™¨ç©ºç™½å¤„ç‚¹å‡»å³é”®æ—¶å°±ä¼šå‘ç°äº†è¿™ä¸ªé€‰é¡¹ï¼Œä½†æ˜¯æœ‰ç‚¹ä¸‘é™‹ï¼Œæˆ‘ä»¬æ¥ç¨å¾®åœ°ç¾åŒ–ä¸€ä¸‹ï¼Œç»™æ·»åŠ çš„å³é”®èœå•å¢åŠ å›¾æ ‡å’Œæè¿°ä¿¡æ¯ã€‚</p>
<h2 id="ç¾åŒ–"><a href="#ç¾åŒ–" class="headerlink" title="ç¾åŒ–"></a>ç¾åŒ–</h2><p>é€‰ä¸­<code>Cmder</code>ï¼Œæ¥ç€åœ¨å³ä¾§ä¸­æ–°å»ºå‡ ä¸ª<code>string</code>ç±»å‹çš„å€¼ã€‚</p>
<p><a href="/img/2017/07/snipaste_20170717_230807.png"><img src="/img/2017/07/snipaste_20170717_230807.png" alt=""></a></p>
<p>æ–°å¢ä¸¤ä¸ªå€¼ï¼Œåˆ†åˆ«ä¸º</p>
<p><a href="/img/2017/07/snipaste_20170717_230940.png"><img src="/img/2017/07/snipaste_20170717_230940.png" alt=""></a></p>
<p><code>Icon</code>ç”¨æ¥ç»™èœå•æ·»åŠ ä¸€ä¸ªå°å›¾æ ‡ï¼Œ<code>MUIVerb</code>ç”¨æ¥ç»™èœå•æ·»åŠ æè¿°ä¿¡æ¯ã€‚å®Œæˆåå†æŸ¥çœ‹ä¸€ä¸‹å°±ä¼šæ˜¯è¿™ä¸ªæ•ˆæœ</p>
<p><a href="/img/2017/07/snipaste_20170717_231530.png"><img src="/img/2017/07/snipaste_20170717_231530.png" alt=""></a></p>
<p>æµ‹è¯•ä¸€ä¸‹ï¼Œå®Œç¾è¿è¡Œã€‚</p>
<h2 id="å¢åŠ å­èœå•é¡¹"><a href="#å¢åŠ å­èœå•é¡¹" class="headerlink" title="å¢åŠ å­èœå•é¡¹"></a>å¢åŠ å­èœå•é¡¹</h2><p>æ­£å¦‚ç¬¬ä¸€å¼ å›¾æ‰€ç¤ºï¼Œè¿˜åº”è¯¥æœ‰å­èœå•é¡¹æ‰è¶³å¤Ÿæ»¡è¶³ä¸€äº›éœ€æ±‚ï¼Œè¿™éƒ½ä¸æ˜¯äº‹ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å›åˆ°<code>Cmder</code>é¡¹ä¸‹ï¼Œå†æ·»åŠ ä¸€ä¸ª<code>string</code>ç±»å‹çš„å€¼ï¼Œåå­—ä¸º<code>SubCommands</code>ï¼Œç„¶åå€¼çš„å†…å®¹å¡«å†™ä½ æƒ³è¦æ·»åŠ çš„å‘½ä»¤çš„åå­—ï¼ˆåƒä¸‡é¿å…é‡å¤ï¼‰ï¼Œæ¯ä¸ªå‘½ä»¤ä¹‹é—´ç”¨åŠè§’åˆ†å·<code>;</code>éš”å¼€ï¼Œå°±åƒè¿™æ ·</p>
<p><a href="/img/2017/07/snipaste_20170717_232103.png"><img src="/img/2017/07/snipaste_20170717_232103.png" alt=""></a></p>
<p>è¿˜æ²¡å®Œï¼Œè¿™æ—¶å€™ä½ å¯ä»¥å†æŸ¥çœ‹å³é”®èœå•çš„æ—¶å€™å¯ä»¥çœ‹åˆ°åˆšæ‰æ·»åŠ çš„èœå•é¡¹å·²ç»æœ‰ä¸ªå³å°–æ‹¬å·äº†ï¼Œä½†æ˜¯å› ä¸ºå…·ä½“çš„å­å‘½ä»¤è¿˜æ²¡å®ç°ï¼Œæ‰€ä»¥ä¸ä¼šæ˜¾ç°å‡ºæ¥ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å®šä½åˆ°<code>Computer\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell</code>ä¸‹ï¼Œç„¶åå†æ–°å»ºæ–°é¡¹ï¼Œåå­—ä¸ºåˆšæ‰åŠ å…¥çš„å­å‘½ä»¤åå­—ï¼Œæ¯”å¦‚æˆ‘çš„</p>
<p><a href="/img/2017/07/snipaste_20170717_232828.png"><img src="/img/2017/07/snipaste_20170717_232828.png" alt=""></a></p>
<p>æ¥ä¸‹æ¥çš„æ“ä½œå°±å’Œä¸Šè¾¹çš„ä¸€æ¯›ä¸€æ ·äº†ã€‚</p>
<p>æœ€åçš„æ•ˆæœå°±æ˜¯è¿™æ ·</p>
<p><a href="/img/2017/07/snipaste_20170717_222321.png"><img src="/img/2017/07/snipaste_20170717_222321.png" alt=""></a></p>
<h2 id="Shift-å³é”®"><a href="#Shift-å³é”®" class="headerlink" title="Shift+å³é”®"></a>Shift+å³é”®</h2><p>è¿˜æœ‰ä¸€äº›èœå•é¡¹æ˜¯é€šè¿‡Shift+é¼ æ ‡å³ç»„åˆé”®æ‰ä¼šæ˜¾ç°å‡ºæ¥çš„ï¼Œè¦å®ç°è¿™ä¸ªä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦æ·»åŠ ä¸€ä¸ªæ–°å€¼<code>Extended</code>å³å¯ã€‚</p>
<p><a href="/img/2017/07/snipaste_20170817_115734.png"><img src="/img/2017/07/snipaste_20170817_115734.png" alt=""></a></p>
]]></content>
      
        <categories>
            
            <category> Windows </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Windows 10 </tag>
            
            <tag> Windows </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[è‡ªå®šä¹‰runå‘½ä»¤]]></title>
      <url>/2017/06/11/runplus/</url>
      <content type="html"><![CDATA[<p>ç›¸ä¿¡å„ä½éƒ½ä¼šæœ‰è¿‡è¿™æ ·çš„æ“ä½œï¼ŒWin+R-&gt;è¾“å…¥è¦è¿è¡Œçš„ç¨‹åº-&gt;ç¡®å®šã€‚ è­¬å¦‚ç»å¸¸ä¼šç”¨åˆ°çš„å‘½ä»¤è¡Œ</p>
<p><a href="/img/2017/06/snipaste_20170611_181819.png"><img src="/img/2017/06/snipaste_20170611_181819.png" alt=""></a></p>
<p>ç°åœ¨æˆ‘æƒ³è‡ªå·±æ·»åŠ ä¸€ä¸ªï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“ï¼Œè¿è¡Œè¿™ä¸ªç¨‹åºæ˜¯åœ¨ç¯å¢ƒå˜é‡æŸ¥æ‰¾ç¬¦åˆåç§°çš„ç¨‹åºç„¶åè¿è¡Œå®ƒçš„ï¼Œä¾ç…§è¿™ä¸ªæ€è·¯ç¬”è€…åœ¨è¿™é‡Œä»‹ç»ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨éšä¾¿ä¸€ä¸ªç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä½ å–œæ¬¢å°±å¥½ã€‚</p>
<p><a href="/img/2017/06/snipaste_20170611_181750.png"><img src="/img/2017/06/snipaste_20170611_181750.png" alt=""></a></p>
<p>ç„¶ååœ¨æ§åˆ¶é¢æ¿ä¸­è®¾ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡ã€‚</p>
<p><a href="/img/2017/06/Untitled.png"><img src="/img/2017/06/Untitled.png" alt=""></a></p>
<p>æ–°å»ºä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œç„¶åæŠŠåˆšæ‰æ–°å»ºçš„ç›®å½•è·¯å¾„å¤åˆ¶è¿›å»ã€‚</p>
<p>æˆ‘ä»¬æŠŠéœ€è¦è¿è¡Œçš„ç¨‹åºæ–°å»ºä¸€ä¸ªå¿«æ·æ–¹å¼ï¼Œåç§°ä½ å–œæ¬¢ï¼Œæ–¹ä¾¿ä½ è‡ªå·±å°±å¥½ï¼Œä¸¢åˆ°ç›®å½•ä¸‹ã€‚</p>
<p><a href="/img/2017/06/snipaste_20170611_184550.png"><img src="/img/2017/06/snipaste_20170611_184550.png" alt=""></a></p>
<p>æœ€åä½ åœ¨è¿è¡Œé‡Œè¾“å…¥å¯¹åº”çš„å¿«æ·æ–¹å¼çš„åç§°ï¼Œç„¶åå°±æ˜¯è§è¯å¥‡è¿¹çš„æ—¶åˆ»ã€‚</p>
<p><a href="/img/2017/06/snipaste_20170611_194951.png"><img src="/img/2017/06/snipaste_20170611_194951.png" alt=""></a></p>
]]></content>
      
        <categories>
            
            <category> Windows </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æªå‡ºWindows Spotlightå£çº¸]]></title>
      <url>/2017/04/06/get-windows-spotlight-wallpaper/</url>
      <content type="html"><![CDATA[<!-- # <span style="color: #ff6600;">**è¿™æ˜¯ä¸€ç¯‡æ— èŠçš„æ°´æ–‡ï¼**</span>

# <span style="color: #ff6600;">**è¿™æ˜¯ä¸€ç¯‡æ— èŠçš„æ°´æ–‡ï¼**</span>

# <span style="color: #ff6600;">**è¿™æ˜¯ä¸€ç¯‡æ— èŠçš„æ°´æ–‡ï¼**</span> -->
<p>Windows 10çš„Spotlightå¶å°”ä¼šæ¨èä¸ªäººæ¯”è¾ƒå–œæ¬¢çš„é”å±å£çº¸ï¼Œè¿™æ—¶å€™å¦‚æœæˆ‘ä»¬æƒ³å¾—åˆ°å›¾ç‰‡æ–‡ä»¶è¯¥æ€ä¹ˆåŠï¼Ÿæ¯”å¦‚è¿™å¼ ï¼Œç¬”è€…ä¸ªäººè§‰å¾—æŒºé­”å¹»çš„ã€‚</p>
<p><a href="/img/2017/04/sp170406_120203.png"><img src="/img/2017/04/sp170406_120203.png" alt=""></a></p>
<h2 id="Step1"><a href="#Step1" class="headerlink" title="Step1"></a>Step1</h2><p>åœ¨Windows Explorerè¿›å…¥è¯¥è·¯å¾„</p>
<pre><code>C:\Users\[User Name]\AppData\Local\Packages\Microsoft.Windows.ContentDeliveryManager_cw5n1h2txyewy\LocalState\Assets
</code></pre><p>åœ¨è¯¥ç›®å½•ä¸‹å¯ä»¥çœ‹åˆ°ä¸€äº›æ²¡æœ‰æ‰©å±•åçš„æ–‡ä»¶ï¼Œè¿™äº›å…¶å®å°±æ˜¯å›¾ç‰‡æ–‡ä»¶ï¼Œå¦‚å›¾</p>
<p><a href="/img/2017/04/sp170406_121024.png"><img src="/img/2017/04/sp170406_121024.png" alt=""></a></p>
<h2 id="Step2"><a href="#Step2" class="headerlink" title="Step2"></a>Step2</h2><p>å°†ä¸Šå›¾ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°ä»»æ„ç›®å½•ä¸‹ï¼Œæˆ‘åœ¨æ¡Œé¢ä¸Šæ–°å»ºäº†ä¸€ä¸ªåä¸ºNew Folderçš„æ–‡ä»¶å¤¹ç„¶åå…¨éƒ¨ä¸¢è¿›å»ã€‚</p>
<h2 id="Step3"><a href="#Step3" class="headerlink" title="Step3"></a>Step3</h2><p>ç„¶åæ­£ç‰‡å¼€å§‹ï¼Œç½‘ä¸Šå¾ˆå¤šéƒ½æ˜¯ç›´æ¥ç”¨cmdä¿®æ”¹æ–‡ä»¶åæ·»åŠ æ‰©å±•åï¼Œè¿™é‡Œè£…é€¼åœ°ç”¨äº†PowerShellã€‚æˆ‘ä¼šç»™æ¯ä¸ªå›¾ç‰‡ä¸€ä¸ªä½å®½ä¸º3çš„åºå·å¹¶æ·»åŠ æ‰©å±•åã€‚</p>
<p>å…ˆå®šä¹‰ä¸€ä¸ªåºå·çš„å˜é‡</p>
<pre><code class="PowerShell">$index=1
</code></pre>
<p>ç„¶åä¿®æ”¹å›¾ç‰‡æ–‡ä»¶æ–‡ä»¶å</p>
<pre><code class="PowerShell">Get-ChildItem|foreach{Rename-Item -Path $_.FullName -NewName (&#39;pic_{0:d3}.jpg&#39; -f $index);$index++}
</code></pre>
<p><a href="/img/2017/04/sp170406_121955-1.png"><img src="/img/2017/04/sp170406_121955-1.png" alt=""></a><br>è¿™æ—¶å€™å†çœ‹çœ‹æ–‡ä»¶å¤¹ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½å·²ç»æ˜¾ç¤ºä¸ºå›¾ç‰‡æ ¼å¼æ–‡ä»¶äº†ã€‚ALL DONEï¼</p>
<p><a href="/img/2017/04/sp170406_182143.png"><img src="/img/2017/04/sp170406_182143.png" alt=""></a></p>
<p>è¿™é‡Œå‡†å¤‡äº†æ•´ä¸ªè„šæœ¬ï¼ˆå›¾ç‰‡ä¿å­˜åœ¨æ¡Œé¢çš„spotlightæ–‡ä»¶å¤¹å†…ï¼‰ï¼Œä¿å­˜ä¸ºps1ç›´æ¥è¿è¡Œå³å¯ï¼ˆè®°å¾—ä¿®æ”¹PowerShellçš„ExecutionPolicyï¼‰ï¼š<a href="/static/spotlight.ps1">ç‚¹è¿™é‡Œ</a></p>
]]></content>
      
        <categories>
            
            <category> Windows </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Windows 10 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Binding[3]=MultiBinding]]></title>
      <url>/2017/02/14/binding-multibinding/</url>
      <content type="html"><![CDATA[<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°è¿™æ ·çš„éœ€æ±‚ï¼ŒUIçš„è¦æ˜¾ç¤ºçš„ä¿¡æ¯ç”±å¤šä¸ªæ•°æ®æºæ¥å†³å®šï¼Œæ¯”å¦‚æ³¨å†Œç•Œé¢ä¼šéªŒè¯ä¸¤æ¬¡è¾“å…¥çš„å¯†ç æ˜¯å¦ä¸€è‡´æ¥å†³å®šæ˜¯å¦å¯ä»¥æ³¨å†Œï¼Œè¿™æ—¶å€™å°±è¦ç”¨åˆ°MultiBindingäº†ã€‚å› ä¸ºBindingå’ŒMultiBindingçš„åŸºç±»éƒ½æ˜¯BindingBaseï¼Œæ‰€ä»¥ï¼Œèƒ½ç”¨Bindingçš„åœºåˆéƒ½èƒ½ç”¨MultiBindingã€‚MultiBindingé€šè¿‡ä¸€ä¸ªBindingsçš„å±æ€§ï¼ˆç±»å‹ä¸ºCollection<bindingbase>ï¼‰æŠŠå¤šä¸ªBindingå¯¹è±¡é›†åˆèµ·æ¥ï¼Œå…¶ä¸­æ¯ä¸ªBindingå¯¹è±¡å¯ä»¥æœ‰è‡ªå·±çš„æ•°æ®æ ¡éªŒå’Œæ•°æ®è½¬æ¢æœºåˆ¶ã€‚</bindingbase></p>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>ç°åœ¨æˆ‘ä»¬å°±ä»¥æ³¨å†Œç•Œé¢ä¸ºä¾‹ï¼Œéœ€æ±‚æ˜¯ï¼Œç”¨æˆ·åå’Œå¯†ç éƒ½ä¸ä¼šä¸ºç©ºï¼Œä¸”ä¸¤æ¬¡è¾“å…¥çš„å¯†ç è¦ä¸€è‡´ï¼Œè¿™æ—¶å€™ç¡®è®¤ä¿¡æ¯çš„Buttonå¯ç”¨ã€‚XAMLä»£ç å¦‚ä¸‹ï¼ŒåŠ å…¥äº†ä¸€äº›éƒ¨åˆ†ç¾åŒ–çš„ä»£ç ï¼Œé»˜è®¤çš„å¤ªéš¾çœ‹äº†å—ä¸äº†- -ï¼Œä¸»è¦çš„å°±æ˜¯ä¸‰ä¸ªTextBoxã€‚</p>
<pre><code class="XML">&lt;StackPanel HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot;&gt;
    &lt;TextBlock Text=&quot;Sign up&quot; FontSize=&quot;30&quot; Foreground=&quot;#00a2e8&quot; Margin=&quot;3&quot;/&gt;
    &lt;TextBlock Text=&quot;User&quot; FontSize=&quot;13&quot; Margin=&quot;3&quot;/&gt;
    &lt;TextBox x:Name=&quot;textBox&quot; Height=&quot;23&quot; Width=&quot;150&quot; Margin=&quot;3&quot;/&gt;
    &lt;TextBlock Text=&quot;Password&quot; Margin=&quot;5&quot;/&gt;
    &lt;TextBox x:Name=&quot;textBox1&quot; Height=&quot;23&quot; Width=&quot;150&quot; Margin=&quot;3&quot;/&gt;
    &lt;TextBlock Text=&quot;Verify Password&quot; Margin=&quot;5&quot;/&gt;
    &lt;TextBox x:Name=&quot;textBox2&quot; Height=&quot;23&quot; Width=&quot;150&quot; Margin=&quot;3&quot;/&gt;
    &lt;Button x:Name=&quot;button&quot; Height=&quot;23&quot; Margin=&quot;3&quot;&gt;
        &lt;Button.Style&gt;
            &lt;Style TargetType=&quot;Button&quot;&gt;
                &lt;Setter Property=&quot;Template&quot;&gt;
                    &lt;Setter.Value&gt;
                        &lt;ControlTemplate TargetType=&quot;Button&quot;&gt;
                            &lt;Border x:Name=&quot;border&quot; Background=&quot;#00a2e8&quot;&gt;
                                &lt;TextBlock x:Name=&quot;textBlock&quot; Text=&quot;OK&quot; TextAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Foreground=&quot;White&quot;/&gt;
                            &lt;/Border&gt;
                            &lt;ControlTemplate.Triggers&gt;
                                &lt;Trigger Property=&quot;IsEnabled&quot; Value=&quot;False&quot;&gt;
                                    &lt;Setter TargetName=&quot;border&quot; Property=&quot;Background&quot; Value=&quot;LightGray&quot;/&gt;
                                &lt;/Trigger&gt;
                            &lt;/ControlTemplate.Triggers&gt;
                        &lt;/ControlTemplate&gt;
                    &lt;/Setter.Value&gt;
                &lt;/Setter&gt;
            &lt;/Style&gt;
        &lt;/Button.Style&gt;
    &lt;/Button&gt;
&lt;/StackPanel&gt;
</code></pre>
<p>ä¸‰ä¸ªTextBoxä¼šå„è‡ªä½œä¸ºä¸‰ä¸ªBindingå¯¹è±¡çš„Sourceï¼Œæœ€ç»ˆæŠŠä¸‰ä¸ªBindingå¯¹è±¡åŠ å…¥MultiBindingçš„Bindingså±æ€§ä¸­ã€‚</p>
<pre><code class="CSharp">public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();
        this.SetMultiBinding();
    }

    private void SetMultiBinding()
    {
        Binding b0 = new Binding(&quot;Text&quot;) { Source = this.textBox };
        Binding b1 = new Binding(&quot;Text&quot;) { Source = this.textBox1 };
        Binding b2 = new Binding(&quot;Text&quot;) { Source = this.textBox2 };

        MultiBinding mb = new MultiBinding();
        mb.Bindings.Add(b0);
        mb.Bindings.Add(b1);
        mb.Bindings.Add(b2);
        mb.Converter = new MultiBindingConverter();

        this.button.SetBinding(Button.IsEnabledProperty, mb);
    }
}
</code></pre>
<p>å› ä¸ºTextå’ŒIsEnabledä¸¤ä¸ªå±æ€§ç±»å‹ä¸åŒï¼Œå› æ­¤æˆ‘ä»¬è¦ç»™MutilBindingå‡†å¤‡ä¸€ä¸ªè½¬æ¢å™¨ï¼Œè¿™ä¸ªç±»ç»§æ‰¿äºIMultiValueConverteræ¥å£ã€‚</p>
<pre><code class="CSharp">class MultiBindingConverter : IMultiValueConverter
{
    public object Convert(object[] values, Type targetType, object parameter, CultureInfo culture)
    {
        if (!values.Cast&lt;string&gt;().Any(text =&gt; string.IsNullOrWhiteSpace(text)) 
            &amp;&amp; values[1].ToString() == values[2].ToString())
        {
            return true;
        }
        return false;
    }

    public object[] ConvertBack(object value, Type[] targetTypes, object parameter, CultureInfo culture)
    {
        throw new NotImplementedException();
    }
}
</code></pre>
<p>è¿è¡Œçš„æ•ˆæœ</p>
<table>
<thead>
<tr>
<th style="text-align:center">Not OK</th>
<th style="text-align:center">OK</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="/img/2017/02/sp170214_210649.png"><img src="/img/2017/02/sp170214_210649.png" alt=""></a></td>
<td style="text-align:center"><a href="/img/2017/02/sp170214_210735.png"><img src="/img/2017/02/sp170214_210735.png" alt=""></a></td>
</tr>
</tbody>
</table>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>Qï¼šçœ‹äº†ä¸‹è½¬æ¢å™¨çš„ä»£ç ï¼Œå…¶ä¸­çš„valueså‚æ•°åº”è¯¥æ˜¯æŒ‡å¤šä¸ªBindingå¯¹è±¡çš„Pathå±æ€§å€¼ï¼Œé‚£ä¹ˆæ€æ ·çŸ¥é“å“ªä¸ªvalueæ˜¯å“ªä¸ªBindingå¯¹è±¡çš„å‘¢ï¼Ÿ</p>
<p>Aï¼šæˆ‘ä»¬è¯´è¿‡ï¼ŒBindingså±æ€§æ˜¯ä¸ªé›†åˆï¼Œåœ¨æŠŠBindingå¯¹è±¡ä¸¢è¿›å»çš„æ—¶å€™æ˜¯æŒ‰é¡ºåºé€’å¢ç´¢å¼•çš„ï¼Œå› æ­¤åªè¦è®°ä½é¡ºåºï¼Œå°±å¯ä»¥é€šè¿‡ç´¢å¼•å¾—åˆ°å¯¹åº”çš„valueã€‚</p>
]]></content>
      
        <categories>
            
            <category> Programming </category>
            
        </categories>
        
        
        <tags>
            
            <tag> WPF </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[WordPressè¿ç§»-Windows Server 2012åˆ°Centos 7]]></title>
      <url>/2017/02/13/wordpress-migration/</url>
      <content type="html"><![CDATA[<p>ä¹°äº†VPSé¡ºä¾¿è¯•ç€æŠŠåšå®¢è¿ç§»åˆ°å›½å¤–å»ï¼Œå®é™…æ“ä½œäº†è¿‡åè‡ªæˆ‘æ„Ÿè§‰WordPressçš„è¿ç§»å…¶å®ä¸éš¾ã€‚</p>
<h2 id="å‡†å¤‡å·¥ä½œ-ç¯å¢ƒæ­å»º"><a href="#å‡†å¤‡å·¥ä½œ-ç¯å¢ƒæ­å»º" class="headerlink" title="å‡†å¤‡å·¥ä½œ-ç¯å¢ƒæ­å»º"></a>å‡†å¤‡å·¥ä½œ-ç¯å¢ƒæ­å»º</h2><p>åœ¨CentosæœåŠ¡å™¨ç«¯ï¼Œæˆ‘ä»¬è¦å…ˆæŠŠè¿è¡Œç¯å¢ƒæ­å»ºå¥½ã€‚æˆ‘é€‰æ‹©çš„æ˜¯LAMPï¼ˆLinux+Apache+MySQL+PHPï¼‰</p>
<h3 id="å®‰è£…Apache"><a href="#å®‰è£…Apache" class="headerlink" title="å®‰è£…Apache"></a>å®‰è£…Apache</h3><p><code># yum install httpd</code><br>è¿™æ ·æˆ‘ä»¬å°±ç®—å®‰è£…å¥½å•¦ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥å°†å…¶å¯åŠ¨<br><code># systemctl start httpd</code><br>æ¥ä¸‹æ¥å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å…¥æœåŠ¡å™¨çš„IPæ¥æ£€æŸ¥Apacheæ˜¯å¦æ­£å¸¸å¼€å¯å’Œè¿è¡Œ<br><a href="/img/2017/02/sp170212_132228.png"><img src="/img/2017/02/sp170212_132228.png" alt=""></a><br>è¿™æ˜¯æ­£å¸¸è¿è¡Œçš„ç»“æœï¼Œç„¶åæˆ‘ä»¬æŠŠApacheè®¾ç½®ä¸ºå¼€æœºè‡ªå¯<br><code># systemctl enable httpd</code></p>
<h3 id="å®‰è£…MySQL-MariaDB"><a href="#å®‰è£…MySQL-MariaDB" class="headerlink" title="å®‰è£…MySQL(MariaDB)"></a>å®‰è£…MySQL(MariaDB)</h3><p><code># yum install mariadb-server mariadb</code><br>å®‰è£…å®Œæˆåå¯åŠ¨æ•°æ®åº“<br><code># systemctl start mariadb</code><br>ç„¶åå®‰è£…ä¸€ä¸ªæ•°æ®åº“å®‰å…¨è„šæœ¬ï¼Œå»æ‰ä¸€äº›å±é™©çš„é»˜è®¤è®¾ç½®<br><code># mysql_secure_installation</code><br>æ¥ä¸‹æ¥ä¼šæç¤ºä½ æ˜¯æ–°å®‰è£…çš„ï¼Œç›´æ¥æŒ‰ä¸‹Enteré”®ï¼Œç„¶åè®¾ç½®æ•°æ®åº“å¯†ç ã€‚æŠŠMariaDBä¹Ÿè®¾ç½®ä¸ºå¼€æœºè‡ªå¯<br><code># systemctl enable mariadb</code></p>
<h3 id="å®‰è£…PHP"><a href="#å®‰è£…PHP" class="headerlink" title="å®‰è£…PHP"></a>å®‰è£…PHP</h3><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…PHP<br><code># yum install php php-mysql</code><br>å®‰è£…å®Œæˆä¹‹åæˆ‘ä»¬å†æŠŠApahceé‡å¯ä¸€ä¸‹<br><code># systemctl restart httpd</code><br>æ¥ä¸‹æ¥æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹PHPæ˜¯å¦æ­£å¸¸è¿è¡Œï¼Œåœ¨/var/www/htmlç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªinfo.phpæ–‡ä»¶<br><code># vim /var/www/html/info.php</code><br>å†…å®¹å†™å…¥IP<br><code>&lt;?php phpinfo();?&gt;</code><br>ç„¶ååœ¨æµè§ˆå™¨ä¸­è¾“å…¥<br><code>xxx.xxx.xxx.xxx/info.php</code><br>xxxä»£è¡¨ä½ çš„IPåœ°å€<br><a href="/img/2017/02/sp170212_133114.png"><img src="/img/2017/02/sp170212_133114.png" alt=""></a></p>
<h3 id="å®‰è£…phpMyAdminï¼ˆå¯é€‰ï¼‰"><a href="#å®‰è£…phpMyAdminï¼ˆå¯é€‰ï¼‰" class="headerlink" title="å®‰è£…phpMyAdminï¼ˆå¯é€‰ï¼‰"></a>å®‰è£…phpMyAdminï¼ˆå¯é€‰ï¼‰</h3><p>è¿™æ˜¯ä¸€ä¸ªæ•°æ®åº“ç®¡ç†çš„Webç•Œé¢ç¨‹åºï¼Œæœ‰æ—¶å€™å›¾å½¢åŒ–æ“ä½œè¿˜æ˜¯æ–¹ä¾¿ä¸€ç‚¹çš„ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è¦å…ˆå®‰è£…epelåº“<br><code># yum install epel-release</code><br>ç„¶åæˆ‘ä»¬å°±å¯ä»¥å®‰è£…phpMyAdminäº†<br><code># yum install phpmyadmin</code><br>å®‰è£…å®Œæˆåæˆ‘ä»¬è¦è®¾ç½®ä¸€ä¸‹æƒé™ï¼Œä¸ç„¶è®¿é—®ä¼šè¿”å›403é”™è¯¯<br><code># vim /etc/httpd/conf.d/phpMyAdmin.conf</code><br>æ‰¾åˆ°è¿™éƒ¨åˆ†å¹¶ä¿®æ”¹ä¸ºå¦‚ä¸‹  </p>
<pre><code class="XML"> &lt;Directory /usr/share/phpMyAdmin/&gt;
   AddDefaultCharset UTF-8
   &lt;IfModule mod_authz_core.c&gt;
     # Apache 2.4
     &lt;RequireAny&gt;
       #Require ip 127.0.0.1
       #Require ip ::1
        Require all granted
      &lt;/RequireAny&gt;;
   &lt;/IfModule&gt;;
   &lt;IfModule !mod_authz_core.c&gt;;
     # Apache 2.2
     Order Deny,Allow
    # Deny from All
    # Allow from 127.0.0.1
    # Allow from ::1
      Allow from All
   &lt;/IfModule&gt;;
 &lt;/Directory&gt;;
</code></pre>
<p>å®Œäº†ä¹‹åå†ä¸€æ¬¡é‡å¯Apacheï¼Œç„¶åæˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ï¼š<br><code>xxx.xxx.xxx.xxx/phpmyadmin</code><br>æ¥ç®¡ç†æ•°æ®åº“<br><a href="/img/2017/02/sp170212_133728.png"><img src="/img/2017/02/sp170212_133728.png" alt=""></a></p>
<h2 id="è¿ç§»"><a href="#è¿ç§»" class="headerlink" title="è¿ç§»"></a>è¿ç§»</h2><h3 id="Windowsç«¯"><a href="#Windowsç«¯" class="headerlink" title="Windowsç«¯"></a>Windowsç«¯</h3><p>å¦‚æœè¿˜è®°å¾—æ•°æ®åº“çš„åç§°å°±ç›´æ¥å¯¼å‡ºï¼Œå¦‚æœä¸è®°å¾—äº†å¯ä»¥å…ˆæŸ¥çœ‹ä¸€ä¸‹æ‰€æœ‰çš„æ•°æ®åº“ã€‚<br><code>show databases;</code><br>æ³¨æ„åˆ«å¿˜äº†æœ€åé‚£é‡Œæœ‰ä¸ªåˆ†å·ï¼<br><a href="/img/2017/02/sp170213_110716.png"><img src="/img/2017/02/sp170213_110716.png" alt=""></a><br>æ‰¾åˆ°MySQLçš„å®‰è£…ç›®å½•ï¼Œæ‰¾åˆ°mysqldump.exeï¼Œç„¶åç®¡ç†å‘˜è¿è¡Œcmdï¼Œåˆ‡æ¢åˆ°æ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤<br><code>mysqldump -uroot -p databaseName&gt;outputFileName.sql</code><br>åœ¨æ‰€åœ¨ç›®å½•ä¸‹æ‰¾åˆ°ç”Ÿæˆçš„æ•°æ®åº“ï¼Œå†æŠŠwordpressæ•´ä¸ªæ–‡ä»¶å¤¹æ‰“åŒ…ä¸€èµ·è¿å›æœ¬åœ°å°±å¯ä»¥äº†ï¼ŒWindowsç«¯çš„å·¥ä½œå®Œæˆï¼</p>
<h3 id="Centosç«¯"><a href="#Centosç«¯" class="headerlink" title="Centosç«¯"></a>Centosç«¯</h3><p>ç”¨SSHå®¢æˆ·ç«¯è¿æ¥ä¸ŠæœåŠ¡å™¨ï¼Œç”¨FTPå·¥å…·æŠŠæ•°æ®åº“æ–‡ä»¶å’Œæ‰“åŒ…æ–‡ä»¶ä¸Šä¼ ï¼Œæˆ‘éƒ½ä¸¢åˆ°äº†/var/www/htmlç›®å½•ä¸‹</p>
<p><a href="/img/2017/02/sp170213_111845.png"><img src="/img/2017/02/sp170213_111845.png" alt=""></a></p>
<p>ç„¶åæˆ‘ä»¬å°±å¼€å§‹ç€æ‰‹æŠŠæ•°æ®åº“å¯¼å…¥äº†ï¼Œè¿è¡Œ<br><code>mysql -uroot -p</code><br>ç„¶åè¾“å…¥å¯†ç ï¼Œæ–°å»ºä¸€ä¸ªæ•°æ®åº“<br><code>create database databaseName</code><br>é€‰ä¸­æ–°å»ºçš„æ•°æ®åº“<br><code>use databaseName</code><br>å¯¼å…¥æ•°æ®ï¼Œä»¥æˆ‘çš„æ•°æ®åº“æ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸ºä¾‹<br><code>source /var/www/html/wordpress_db.sql</code><br>æ•°æ®åº“è¿ç§»æˆåŠŸåè¾“å…¥exité€€å‡ºï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æŠŠwordpresså®ä½“è¿ç§»ï¼Œç›´æ¥æŠŠå‹ç¼©æ–‡ä»¶çš„å†…å®¹è§£å‹åˆ°defaultç›®å½•ä¸‹å³å¯<br><a href="/img/2017/02/sp170213_113104.png"><img src="/img/2017/02/sp170213_113104.png" alt=""></a></p>
<p>å¦‚æœä½ çš„æ•°æ®åº“å¯†ç ä¸ä¸€æ ·äº†ï¼Œä¿®æ”¹ä¸€ä¸‹wp-configæ–‡ä»¶ã€‚<br>è¿™æ—¶å€™åœ¨æµè§ˆå™¨ä¸­è¾“å…¥IP/åŸŸåè¯•ç€è®¿é—®åšå®¢ï¼Œå¦‚æœä¹‹å‰æ²¡æœ‰åŸŸåçš„å°ä¼™ä¼´å°±ä¼šé‡åˆ°é—®é¢˜äº†ï¼Œæ¯”å¦‚æˆ‘- -ï¼Œé‚£æ˜¯å› ä¸ºä¹‹å‰çš„IPåœ°å€å’Œç°åœ¨ä¸åŒäº†ï¼Œæ•°æ®åº“ä¸­çš„æ•°æ®è¿˜æ²¡æ›´æ–°<br><a href="/img/2017/02/sp170213_113354.png"><img src="/img/2017/02/sp170213_113354.png" alt=""></a><br>å°±æ˜¯è¿™é‡Œçš„è®¾ç½®çš„é—®é¢˜ï¼è§£å†³æ–¹æ³•å°±æ˜¯åœ¨æ•°æ®åº“ä¸­ä¿®æ”¹è¿™ä¸¤ä¸ªå€¼ï¼ŒæŒ‡å‘æ–°çš„IPåœ°å€æˆ–è€…ä½ çš„åŸŸåï¼Œè¿˜è®°å¾—å®‰è£…çš„phpMyAdminå˜›ï¼Œç°åœ¨æ’ä¸Šç”¨åœºäº†<br><a href="/img/2017/02/sp170213_113944.png"><img src="/img/2017/02/sp170213_113944.png" alt=""></a><br>ä¿®æ”¹ä¸¤ä¸ªå€¼å°±å¯ä»¥äº†ï¼Œè¿™æ—¶å€™å°±å¯ä»¥æ­£å¸¸ç™»é™†äº†ã€‚<br>ç„¶åæˆ‘ä»¬åœ¨ä¸»é¡µç‚¹å¼€æ–‡ç« ä¼šå‡ºç°403é”™è¯¯ï¼Œè°ƒæ•´ä¸€ä¸‹Apacheé…ç½®æ–‡ä»¶<br><code># vim /etc/httpd/conf/httpd.conf</code><br>åœ¨æ–‡ä»¶ä¸­åŠ å…¥<br><code>LoadModule rewrite_module modules/mod_rewrite.so</code><br>ä½ç½®éšæ„ï¼Œä¸‹å›¾ä½œä¸ºå‚è€ƒ<br><a href="/img/2017/02/sp170213_114433.png"><img src="/img/2017/02/sp170213_114433.png" alt=""></a></p>
<p>ç„¶åæˆ‘ä»¬å†ä¿®æ”¹ä¸€ç‚¹å†…å®¹</p>
<pre><code class="XML">&lt;VirtualHost *:80&gt;

ServerName localhost

DocumentRoot /var/www/html/default

&lt;Directory â€œ/var/www/html/defaultâ€&gt;

Options FollowSymLinks

AllowOverride ALL

Order allow,deny

Allow from all

&lt;/Directory&gt;

&lt;/VirtualHost&gt;
</code></pre>
<p>æŠŠ<em>AllowOverride</em>çš„å€¼æ¢æˆäº†<em>ALLï¼Œ</em>ä½ç½®å¦‚ä¸‹<br><a href="/img/2017/02/sp170213_114405.png"><img src="/img/2017/02/sp170213_114405.png" alt=""></a><br>ä¿å­˜æ–‡ä»¶é€€å‡ºï¼Œé‡å¯Apacheã€‚æœ€åå†æ–°å»ºä¸€ä¸ª.htaccessæ–‡ä»¶ï¼Œä¸¢åˆ°åšå®¢æ ¹ç›®å½•ä¸‹å°±è¡Œäº†ï¼Œç”±äºè¿™ä¸ªæ–‡ä»¶çš„æ–‡ä»¶åæœ‰ç‚¹ç‰¹æ®Šï¼Œè¦å€ŸåŠ©å…¶ä»–ç¼–è¾‘å·¥å…·ç”Ÿæˆï¼Œæ¯”å¦‚ç¬”è€…ç”¨çš„Visual Studio Codeã€‚æ–‡ä»¶å†…å®¹å¦‚ä¸‹</p>
<pre><code class="XML">&lt;IfModule mod_rewrite.c&gt;

RewriteEngine On

RewriteBase /

RewriteRule ^index.php$ - [L]

RewriteCond %{REQUEST_FILENAME} !-f

RewriteCond %{REQUEST_FILENAME} !-d

RewriteRule . /index.php [L]

&lt;/IfModule&gt;
</code></pre>
<p>è¿™æ—¶å€™å†ç‚¹å‡»æ–‡ç« å°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ã€‚</p>
<h2 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h2><p>è‡ªæ­¤ï¼Œè¿ç§»å·¥ä½œç®—æ˜¯å®Œæˆäº†ï¼Œä¸è¿‡è¿˜æœ‰äº›å°é—®é¢˜ï¼Œä¸å¦‚æ–‡ä»¶çš„ä¸Šä¼ ï¼Œä¸‹ç¯‡æ–‡ç« å†è®²å•¦ï¼</p>
<p>æœ¬æ–‡å‚è€ƒäº†ä¸¤ä½dalaoçš„æ–‡ç« ï¼Œç‰¹åˆ«æ„Ÿè°¢ï¼<br><a href="http://blog.gclxry.com/install-wordpress-on-centos7/" target="_blank" rel="external">Centos 7ä¸Šå®‰è£…Wordpress</a><br><a href="https://www.yanning.wang/archives/192.html" target="_blank" rel="external">WordPressè·¨å¹³å°è¿ç§»å®æˆ˜</a></p>
]]></content>
      
        <categories>
            
            <category> Linux </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Linux </tag>
            
            <tag> VPS </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[VPS-Centos 7æ­å»ºé…ç½®Shadowsocksç§‘å­¦ä¸Šç½‘]]></title>
      <url>/2017/02/11/vps-centos-7-shadowsocks/</url>
      <content type="html"><![CDATA[<p>åˆšåˆšå…¥æ‰‹äº†ä¸€ä¸ªVPSï¼Œæ‹¿æ¥ç»ƒæ‰‹Linuxç±»ç³»ç»Ÿï¼Œæœ€é‡è¦çš„è¿˜æ˜¯é¡ºä¾¿è‡ªå·±æ­å»ºSSç§‘å­¦ä¸Šç½‘ã€‚æˆ‘è¿™é‡Œçš„æ˜¯Centos 7 64ä½ã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><code># yum install python-setuptools &amp;&amp; easy_install pip</code><br><code># pip install shadowsocks</code><br>è¿™æ ·SSå°±å®‰è£…å¥½å•¦ï¼Œç„¶åæˆ‘ä»¬è¦é…ç½®ä¸€ä¸‹ã€‚</p>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>æ–°å»ºä¸€ä¸ªjsonæ–‡ä»¶<br><code># vim /etc/shadowsocks.json</code><br>ç„¶åå†™å…¥é…ç½®ï¼Œç«¯å£å’Œå¯†ç è‡ªå·±è‡ªå®šä¹‰ã€‚</p>
<pre><code class="JSON">{
    &quot;server&quot;:&quot;0.0.0.0&quot;,
    &quot;server_port&quot;:8900,
    &quot;local_address&quot;: &quot;127.0.0.1&quot;,
    &quot;local_port&quot;:1080,
    &quot;password&quot;:&quot;passwd&quot;,
    &quot;timeout&quot;:300,
    &quot;method&quot;:&quot;aes-256-cfb&quot;,
}
</code></pre>
<p>å¦‚æœè¦å¤šç”¨æˆ·ç™»é™†ï¼Œé‚£ä¹ˆå°±æŠŠpasswordæ”¹æˆport_passwordç„¶ååŠ å…¥å¤šä¸ªç«¯å£å’Œå¯†ç ï¼Œä¾‹å¦‚ï¼š  </p>
<pre><code class="JSON">{
    &quot;server&quot;:&quot;0.0.0.0&quot;,
    &quot;local_address&quot;:&quot;127.0.0.1&quot;,
    &quot;local_port&quot;:1080,
    &quot;port_password&quot;:{
         &quot;8900&quot;:&quot;passwd0&quot;,
         &quot;8901&quot;:&quot;passwd1&quot;,
         &quot;8902&quot;:&quot;passwd2&quot;,
         &quot;8903&quot;:&quot;passwd3&quot;,
         &quot;8904&quot;:&quot;passwd4&quot;
    },
    &quot;timeout&quot;:300,
    &quot;method&quot;:&quot;aes-256-cfb&quot;,
&gt;
</code></pre>
<p>ç„¶åæ–°å»ºä¸€ä¸ªssæœåŠ¡<br><code># vim /etc/systemd/system/shadowsocks.service</code><br>å†…å®¹å†™å…¥ï¼š  </p>
<pre><code>[Unit]
Description=Shadowsocks

[Service]
TimeoutStartSec=0
ExecStart=/usr/bin/ssserver -c /etc/shadowsocks.json

[Install]
WantedBy=multi-user.target
</code></pre><p>ç„¶åå¼€å¯æœåŠ¡ï¼Œå¹¶è®©æœåŠ¡å¼€æœºå¯åŠ¨<br><code># systemctl enable shadowsocks</code><br><code># systemctl start shadowsocks</code><br>è¿™æ—¶å€™å¯ä»¥æ£€æŸ¥ä¸€ä¸‹æœåŠ¡æ˜¯å¦æ­£ç¡®å¼€å¯<br><code># systemctl status shadowsocks</code><br>å¦‚æœActiveé‚£é‡Œæ˜¾ç¤ºçš„æ˜¯ç»¿è‰²çš„active(running)åˆ™è¯´æ˜æœåŠ¡æ­£ç¡®å¼€å¯äº†ã€‚å¦‚å›¾ï¼š<br><a href="/img/2017/02/sp170211_224944.png"><img src="/img/2017/02/sp170211_224944.png" alt=""></a></p>
<p>æœ€åï¼Œåƒä¸‡è®°å¾—é˜²ç«å¢™å¼€å¯åˆšæ‰é…ç½®é‡Œå†™çš„ç«¯å£ï¼Œæˆ‘çš„ä¾‹å­é‡Œå†™çš„åªæœ‰ä¸€ä¸ª8900ï¼Œé˜²ç«å¢™æ²¡å¼€çš„è¯·è‡ªåŠ¨å¿½ç•¥ã€‚<br><code># firewall-cmd --add-port=8900/tcp</code><br>æŸ¥çœ‹ç«¯å£æ˜¯å¦æ­£ç¡®å¼€å¯<br><code># firewall-cmd --query-port=8900/tcp</code><br>è¿”å›successåˆ™æ­£ç¡®å¼€å¯äº†ï¼ŒEnjoy itï¼</p>
]]></content>
      
        <categories>
            
            <category> Linux </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Linux </tag>
            
            <tag> VPS </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Binding[2]=æ•°æ®è½¬æ¢]]></title>
      <url>/2017/02/09/binding-dataconvert/</url>
      <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬äº†è§£äº†å¦‚ä½•åœ¨Bindingçš„è¿‡ç¨‹ä¸­å¯¹æ•°æ®è¿›è¡Œæ ¡éªŒï¼Œç¡®ä¿æ•°æ®çš„æœ‰æ•ˆæ€§ï¼Œå¹¶ä¸”æåˆ°äº†æ•°æ®ç±»å‹è½¬æ¢ã€‚æˆ‘ä»¬éƒ½çŸ¥é“C#æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œåœ¨ç»‘å®šçš„è¿‡ç¨‹ä¸­ï¼ŒTargetå’ŒSourceçš„å±æ€§ç±»å‹ä¸åŒçš„æƒ…å†µç»å¸¸é‡åˆ°ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦æ‰‹åŠ¨è¿›è¡Œæ•°æ®ç±»å‹çš„è½¬æ¢äº†ã€‚æˆ–è®¸æœ‰çš„å°ä¼™ä¼´ä¼šæå‡ºè¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šä¸€ç¯‡æ–‡ç« ä¸­çš„Sliderçš„Valueå±æ€§æ˜¯doubleç±»å‹çš„ï¼ŒTextBoxçš„Textå±æ€§æ˜¯stringç±»å‹çš„ï¼Œä¹Ÿä¸è§å¯¹å®ƒä»¬è¿›è¡Œäº†æ•°æ®è½¬æ¢å•Šï¼è¿™ä¸ªæ˜¯å› ä¸ºï¼Œstringå’Œdoubleä¹‹é—´çš„è½¬æ¢æ¯”è¾ƒç®€å•ï¼ŒWPFç±»åº“å·²ç»å¸®æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜äº†ï¼Œä½†æ˜¯å½“æˆ‘ä»¬é‡åˆ°æ›´åŠ å¤æ‚çš„ä¸šåŠ¡é€»è¾‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½è‡ªå·±å†™ä»£ç äº†ã€‚è¦å®ç°æ•°æ®è½¬æ¢å…¶å®å¾ˆç®€å•ï¼Œåªè¦å†™ä¸€ä¸ªç±»ç»§æ‰¿IValueConverteræ¥å£å®ç°Convertå’ŒConvertBackæ–¹æ³•ï¼Œç„¶ååœ¨Bindingå¯¹è±¡ä¸­æ¶ˆè´¹è¿™ä¸ªç±»å°±å¯ä»¥äº†ã€‚</p>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>ç°åœ¨æˆ‘ä»¬çš„ä¸šåŠ¡æ˜¯ï¼Œä¸€ä¸ªCheckBoxå¹¶å¸¦æœ‰æç¤ºæ–‡å­—ï¼Œé—®ç”¨æˆ·æ˜¯ä¸æ˜¯å°åŸºä½¬ï¼Œå¦‚æœæ˜¯å°±åœ¨ä¸‹é¢æ˜¾ç¤ºä¸€ä¸ªåŠ¨æ¼«å¯çˆ±å¥³å­©å­çš„å›¾ç‰‡(â—â€™â—¡â€™â—)ï¼Œå¦‚æœä¸æ˜¯å°±æ˜¾ç¤ºä¸€ä¸ªçœŸå«äººå¤´å¤§çš„å›¾ç‰‡ã€‚å›¾ç‰‡æ˜¾ç¤ºç”¨ä¸€ä¸ªImageå¯¹è±¡ï¼Œæˆ‘ä»¬è¦è®©å®ƒæ˜¾ç¤ºå‡ºå›¾ç‰‡å†…å®¹ï¼Œå°±è¦ä¸ºå®ƒçš„Sourceå±æ€§èµ‹å€¼ï¼Œè¿™æ˜¯ImageSourceç±»å‹ï¼Œèµ‹å€¼çš„æ—¶å€™ç»™ä¸€æ®µå›¾ç‰‡çš„URIå­—ç¬¦ä¸²å°±å¯ä»¥äº†ï¼Œè€ŒCheckBoxçš„IsCheckedæ˜¯boolç±»å‹ï¼Œå› æ­¤æˆ‘ä»¬è¦æ‰‹å†™ä¸€ä¸ªè½¬æ¢å™¨ã€‚</p>
<pre><code class="CSharp">class CheckBoxStateToImageSourceConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object paremeter, CultureInfo culture)
    {
        if ((bool)value)
        {
            return @&quot;/Assets/bigHead.jpg&quot;;
        }
        return @&quot;/Assets/milai.png&quot;;
    }
    public object ConvertBack(object value, Type targetType, object paremeter, CultureInfo culture)
    {
        throw new NotImplementedException();
    }
}
</code></pre>
<p>ç„¶åæˆ‘ä»¬è¦æ¶ˆè´¹è¿™ä¸ªè½¬æ¢å™¨ï¼Œåªéœ€è¦ç»™Bindingå¯¹è±¡çš„Converterå±æ€§èµ‹å€¼ä¸€ä¸ªæˆ‘ä»¬åˆšåˆšå†™çš„è½¬æ¢å™¨çš„å®ä¾‹å°±å¯ä»¥äº†ï¼ŒXAMLä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="XML">&lt;StackPanel&gt;
    &lt;StackPanel.Resources&gt;
        &lt;local:CheckBoxStateToImageSourceConverter x:Key=&quot;converter&quot;&gt;
    &lt;/StackPanel.Resources&gt;
    &lt;Grid Margin=&quot;10&quot;&gt;
        &lt;CheckBox x:Name=&quot;checkBox&quot;
                HorizontalAlignment=&quot;Left&quot;
                VerticalAlignment=&quot;Center&quot;&gt;;
        &lt;TextBlock Text=&quot;ä½ æ˜¯åŸºä½¬å˜›ï¼Ÿ&quot;
                FontSize=&quot;20&quot;
                HorizontalAlignment=&quot;Left&quot;
                Margin=&quot;20,0,0,0&quot;&gt;;
    &lt;/Grid&gt;
    &lt;Image Source=&quot;{Binding 
        ElementName=checkBox
        ,Path=IsChecked
        ,Converter={StaticResource converter}
        ,Mode=OneWay}&quot;&gt;;
&lt;/StackPanel&gt;
</code></pre>
<p>è¿è¡Œæ•ˆæœå¦‚ä¸‹</p>
<table>
<thead>
<tr>
<th style="text-align:center">False</th>
<th style="text-align:center">True</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="/img/2017/02/sp170209_131407.png"><img src="/img/2017/02/sp170209_131407.png" alt=""></a></td>
<td style="text-align:center"><a href="/img/2017/02/sp170209_131440.png"><img src="/img/2017/02/sp170209_131440.png" alt=""></a></td>
</tr>
</tbody>
</table>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>Qï¼šä¸ºä»€ä¹ˆConvertBackæ–¹æ³•æ²¡æœ‰å®é™…ä»£ç ï¼Ÿ</p>
<p>Aï¼šConvertæ˜¯æŒ‡ä»Sourceåˆ°Targetè¿™ä¸ªé€”å¾„ï¼ŒConvertBackæ˜¾è€Œæ˜“çŸ¥æ˜¯ä»Targetåˆ°Sourceè¿™ä¸ªé€”å¾„ã€‚è¿™é‡Œæˆ‘ä»¬æ˜¯å•å‘çš„ï¼Œå› æ­¤æˆ‘ä»¬ä¸éœ€è¦ç»™ConvertBackæ–¹æ³•å†™å…·ä½“çš„è½¬æ¢ä»£ç ã€‚å¦‚æœä½ é‡åˆ°çš„Bindingæ˜¯TwoWayçš„ï¼Œé‚£ä¹ˆæ¯«æ— ç–‘é—®ä½ å°±è¦å®ç°è¿™éƒ¨åˆ†çš„é€»è¾‘ã€‚</p>
<p>Qï¼šè®²è®²Convertæ–¹æ³•çš„å‚æ•°åˆ—è¡¨ï¼Ÿ</p>
<p>Aï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯objectç±»å‹ï¼Œæœ€å¤§é™åº¦åœ°ä¿è¯äº†Converterçš„é‡ç”¨æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•å†…éƒ¨å¯¹å®ƒçš„ç±»å‹è¿›è¡Œåˆ¤æ–­ï¼›ç¬¬äºŒä¸ªæ˜¯æ–¹æ³•è¿”å›ç±»å‹ï¼ˆå‘½åæœ‰ç‚¹å¥‡æ€ªå°±æ˜¯äº†ï¼Œtargetæ˜¯æŒ‡è¿”å›å€¼ï¼‰ï¼›ç¬¬ä¸‰ä¸ªæ˜¯ç”¨äºæŠŠé¢å¤–çš„ä¿¡æ¯ä¼ å…¥æ–¹æ³•ï¼Œè‹¥éœ€è¦ä¼ é€’å¤šä¸ªä¿¡æ¯åˆ™å¯ä»¥æŠŠä¿¡æ¯æ”¾å…¥ä¸€ä¸ªé›†åˆå¯¹è±¡é‡Œä¼ å…¥æ–¹æ³•ã€‚</p>
]]></content>
      
        <categories>
            
            <category> Programming </category>
            
        </categories>
        
        
        <tags>
            
            <tag> WPF </tag>
            
            <tag> .NET </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Binding[1]=æ•°æ®æ ¡éªŒ]]></title>
      <url>/2017/02/08/binding-validation/</url>
      <content type="html"><![CDATA[<p>æˆ‘ä»¬çŸ¥é“ï¼Œå±æ€§çš„å­˜åœ¨æ˜¯ä¸ºäº†è§£å†³æ•°æ®æœ‰æ•ˆæ€§çš„é—®é¢˜ï¼Œç¡®ä¿æš´éœ²å‡ºå»çš„æ•°æ®æ˜¯åˆæƒ…åˆç†çš„ã€‚åœ¨å®é™…ä¸­ï¼Œæ•°æ®åœ¨ç›®æ ‡æµåŠ¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½éœ€è¦å¯¹å…¶æœ‰æ•ˆæ€§è¿›è¡ŒéªŒè¯ã€‚æˆ‘ä»¬å·²ç»çŸ¥é“ï¼ŒBindingçš„ä½œç”¨å®åœ¨Targetå’ŒSourceä¹‹é—´æ¶èµ·äº†ä¸€åº§æ•°æ®æµåŠ¨çš„æ¡¥æ¢ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹åœ¨è¿™ä¹‹é—´æµåŠ¨çš„æ•°æ®è¿›è¡Œæ ¡éªŒã€‚ä¸ä»…å¦‚æ­¤ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è¿›è¡Œæ•°æ®ç±»å‹çš„è½¬æ¢ï¼Œè¿™ä¸ªåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« è¿›è¡Œè®²è§£ï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•åœ¨ç»‘å®šçš„æ—¶å€™å¯¹æ•°æ®è¿›è¡Œæœ‰æ•ˆæ€§æ ¡éªŒã€‚</p>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>ç°åœ¨æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯ï¼Œå°†ä¸€ä¸ªTextBoxï¼ˆTargetï¼‰ç»‘å®šåˆ°ä¸€ä¸ªSliderï¼ˆSourceï¼‰ä¸Šï¼Œåœ¨TextBoxè¾“å…¥éSliderçš„Valueçš„åŒºé—´å€¼ï¼ˆ0åˆ°100ï¼‰æ—¶ï¼Œä¼šæ˜¾ç¤ºé”™è¯¯ã€‚</p>
<p>UIçš„XAMLä»£ç ï¼š</p>
<pre><code class="XML">&lt;StackPanel&gt;
    &lt;TextBox x:Name=&quot;textBox&quot; Margin=&quot;10&quot; Height=&quot;25&quot;/&gt;
    &lt;Slider x:Name=&quot;slider&quot; Margin=&quot;10&quot; Minimum=&quot;-10&quot; Maximum=&quot;100&quot;/&gt;
&lt;/StackPanel&gt;
</code></pre>
<p>çœ‹åˆ°ä¸Šé¢çš„ä»£ç ï¼Œå°ä¼™ä¼´ä»¬åº”è¯¥å¾ˆå¿«å‘ç°äº†ä¸€ä¸ªå°ç»†èŠ‚ï¼Œä¸ºä»€ä¹ˆSliderçš„æœ€å°å€¼è®¾ä¸º-10ï¼Ÿè¿™ä¸ªæ˜¯åˆ«æœ‰ç”¨æ„çš„ï¼Œå› ä¸ºBindingåœ¨éªŒè¯æ•°æ®çš„æ—¶å€™ï¼Œé»˜è®¤æ˜¯æŠŠSourceçš„æ•°æ®è®¤ä¸ºæ˜¯å®Œå…¨æ­£ç¡®çš„ï¼Œæœ‰é—®é¢˜çš„æ•°æ®åªå¯èƒ½å‡ºç°åœ¨Targetä¸Šï¼Œå› æ­¤è¿™é‡Œæ¨¡æ‹Ÿäº†Sourceæ•°æ®å¼‚å¸¸çš„æƒ…å†µï¼Œå¹¶ä¸”å¯¹Sourceçš„æ•°æ®ä¹Ÿè¿›è¡Œäº†æ ¡éªŒçš„æ­¥éª¤ã€‚</p>
<p>å®ç°æ•°æ®çš„æ ¡éªŒæ˜¯åœ¨å¯¹Bindingçš„ValidationRuleså±æ€§èµ‹å€¼ï¼Œçœ‹å±æ€§çš„å‘½åä¾¿å¯çŸ¥é“ï¼Œè¿™æ˜¯ä¸€ä¸ªValidationRuleç±»çš„é›†åˆï¼Œå‡†ç¡®çš„ç±»å‹æ˜¯Collection<validationrule>ã€‚ValidatinRuleæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å‡†å¤‡å®ƒçš„æ´¾ç”Ÿç±»ï¼Œå®ç°Validateæ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„è¿”å›å€¼æ˜¯ValidationResultç±»å‹å¯¹è±¡ï¼Œå¦‚æœæ£€éªŒé€šè¿‡ï¼Œåˆ™è®¾ç½®ValidationResultå¯¹è±¡çš„IsValidå±æ€§ä¸ºTrueï¼Œåä¹‹ä¸ºFalseå¹¶ä¸ºErrorContentå±æ€§è®¾ç½®ä¸€ä¸ªåˆé€‚çš„æ¶ˆæ¯å†…å®¹ã€‚ç°åœ¨æˆ‘ä»¬æ¥å‡†å¤‡ValidationRuleçš„æ´¾ç”Ÿç±»ã€‚</validationrule></p>
<pre><code class="CSharp">class RangeValidationRule : ValidationRule
{
    public override ValidationResult Validate(object value, CultureInfo cultureInfo)
    {
        double data;
        if (double.TryParse(value.ToString(), out data))
        {
            if (data &gt;= 0 &amp;&amp; data &lt;= 100)
            {
                return new ValidationResult(true, null);
            }
        }
        return new ValidationResult(false, &quot;Validation Failed&quot;);
    }
}
</code></pre>
<p>æœ‰äº†è¿™ä¸ªæ´¾ç”Ÿç±»ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç€æ‰‹è¿›è¡Œå°†TextBoxç»‘å®šåˆ°Sliderä¸Šäº†ã€‚</p>
<pre><code class="CSharp">public MainWindow()
{
    InitializeComponent();

    Binding binding = new Binding(&quot;Value&quot;) { Source = this.slider };
    binding.UpdateSourceTrigger = UpdateSourceTrigger.PropertyChanged;
    binding.ValidationRules.Add(new RangeValidationRule() { ValidatesOnTargetUpdated = true });
    this.textBox.SetBinding(TextBox.TextProperty, binding);
}
</code></pre>
<p>è¿è¡Œç¨‹åºåï¼Œä¸è®ºæ˜¯æˆ‘ä»¬æŠŠSlideræ‰‹åŠ¨æ‹¨åˆ°0ä»¥ä¸‹çš„å€¼è¿˜æ˜¯ç›´æ¥åœ¨TextBoxé‡Œè¾“å…¥å°äº0çš„æ•°ï¼ŒTextBoxéƒ½ä¼šæ˜¾ç¤ºçº¢è‰²çš„è¾¹æ¡†ï¼Œæç¤ºç”¨æˆ·æ•°æ®æœ‰é—®é¢˜ã€‚è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><a href="/img/2017/02/sp170208_214114.png"><img src="/img/2017/02/sp170208_214114.png" alt=""></a></p>
<h2 id="æ›´è¿›ä¸€æ­¥"><a href="#æ›´è¿›ä¸€æ­¥" class="headerlink" title="æ›´è¿›ä¸€æ­¥"></a>æ›´è¿›ä¸€æ­¥</h2><p>åˆ°æ­¤æˆ‘ä»¬å°±å·²ç»å®Œæˆäº†å¯¹æ•°æ®çš„æ ¡éªŒå·¥ä½œï¼Œæ¥ä¸‹æ¥æ›´è¿›ä¸€æ­¥ã€‚æˆ‘ä»¬åˆšæ‰è¯´äº†ï¼ŒValidatinResultå¯¹è±¡æºå¸¦äº†ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•è®©è¿™æ¡æ¶ˆæ¯æ˜¾ç¤ºå‡ºæ¥å‘¢ï¼Ÿè¿™é‡Œç”¨åˆ°äº†è·¯ç”±äº‹ä»¶ï¼Œæˆ‘ä»¬æ¥æŠŠåå°ä»£ç å†™çš„æ›´è¿›ä¸€æ­¥ã€‚</p>
<pre><code class="CSharp">public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();

        Binding binding = new Binding(&quot;Value&quot;) { Source = this.slider };
        binding.UpdateSourceTrigger = UpdateSourceTrigger.PropertyChanged;
        binding.ValidationRules.Add(new RangeValidationRule() { ValidatesOnTargetUpdated = true });
        binding.NotifyOnValidationError = true;
        this.textBox.SetBinding(TextBox.TextProperty, binding);
        this.textBox.AddHandler(Validation.ErrorEvent, new RoutedEventHandler(
            (sender, e) =&gt;;
            {
                if (Validation.GetErrors(this.textBox).Count &gt; 0)
                {
                    this.textBox.ToolTip = Validation.GetErrors(this.textBox)[0].ErrorContent.ToString();
                    ToolTipService.SetIsEnabled(this.textBox, true);
                }
            }));
    }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼ŒæŠŠé¼ æ ‡æ‚¬åœåœ¨TextBoxä¸Šä¼šæœ‰å°æç¤ºå‡ºç°ï¼Œè¿™ä¸ªå°æç¤ºå°±æ˜¯æˆ‘ä»¬åœ¨ValidationResulté‡Œè®¾ç½®çš„é”™è¯¯æ¶ˆæ¯ã€‚</p>
<p><a href="/img/2017/02/sp170208_214644.png"><img src="/img/2017/02/sp170208_214644.png" alt=""></a></p>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>åˆåˆ°äº†åˆ†æéƒ¨åˆ†ï¼Œä»ç„¶æ˜¯é—®ç­”çš„å½¢å¼æ¥è¿›è¡Œã€‚</p>
<p>Qï¼šåå°ä»£ç çš„ ValidatesOnTargetUpdated = true è¿™å¥ä»£ç æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</p>
<p>Aï¼šè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆå…¶å®åœ¨æ–‡ç« é‡Œäº†ï¼Œæˆ‘ä»¬è¯´äº†Bindingå¯¹è±¡é»˜è®¤æŠŠæ¥è‡ªSourceçš„æ•°æ®è®¤å®šä¸ºç»å¯¹æ­£ç¡®ï¼Œå› æ­¤æˆ‘ä»¬ç‰¹æ„æ¨¡æ‹Ÿäº†Sourceçš„æ•°æ®å¼‚å¸¸çš„æƒ…å†µï¼Œè¿™å¥ä»£ç å°±æ˜¯å‘Šè¯‰Bindingå¯¹è±¡ï¼Œå¯¹æ¥è‡ªSourceçš„æ•°æ®ä¹Ÿè¿›è¡Œæ ¡éªŒã€‚</p>
<p>Qï¼šä¸ºä»€ä¹ˆè¦æ·»åŠ  binding.NotifyOnValidationError = trueè¿™å¥ä»£ç ï¼Ÿ</p>
<p>Aï¼šç®€å•çš„è®²å°±æ˜¯ä½¿å¾—éªŒè¯å¤±è´¥çš„æ—¶å€™ä¼šè§¦å‘äº‹ä»¶ï¼Œå¹¶æ‰§è¡Œäº‹ä»¶å¤„ç†å™¨ï¼Œä¹Ÿå°±æ˜¯ä½¿å¾—é”™è¯¯æ¶ˆæ¯é€šè¿‡TextBoxçš„ToolTipæ˜¾ç¤ºå‡ºæ¥ã€‚è¯¦ç»†è¯·äº†è§£è·¯ç”±äº‹ä»¶ã€‚</p>
]]></content>
      
        <categories>
            
            <category> Programming </category>
            
        </categories>
        
        
        <tags>
            
            <tag> WPF </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Binding[0]=ä½¿ç”¨ObjectDataProviderå¯¹è±¡ä½œä¸ºBindingçš„Source]]></title>
      <url>/2017/02/07/odp-as-binding-source/</url>
      <content type="html"><![CDATA[<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨æŸä¸ªç±»çš„å®ä¾‹ä½œä¸ºBindingçš„å¯¹è±¡ï¼Œå®ä¾‹ä¸­çš„æŸä¸ªå±æ€§ä½œä¸ºPathæ¥æ¶ˆè´¹è¿™äº›ç±»ã€‚ç°åœ¨è¯•æƒ³ä¸€ä¸‹è¿™æ ·çš„æƒ…å½¢ï¼Œæˆ‘ä»¬éœ€è¦ç»‘å®šçš„æ•°æ®æ˜¯æ–¹æ³•çš„è¿”å›å€¼ï¼Œè¿™æ—¶å€™æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæœ‰å°ä¼™ä¼´å¯èƒ½ä¼šæå‡ºï¼Œä¿®æ”¹è¿™ä¸ªç±»ï¼Œå¢åŠ å±æ€§å°†éœ€è¦çš„æ•°æ®æš´éœ²å‡ºæ¥ä½¿ç”¨ã€‚è¿™æ ·æ˜¯ä¸€ä¸ªè§£å†³æ–¹æ³•ï¼Œä½†æ˜¯é‡æ–°è®¾è®¡åº•å±‚ç±»çš„é£é™©å’Œæˆæœ¬æ¯”è¾ƒé«˜ï¼Œè€Œä¸”åœ¨é»‘ç›’å¼•ç”¨ç±»åº“çš„æ—¶å€™æˆ‘ä»¬å°±ä¸å¯èƒ½è¿™æ ·åšäº†ã€‚é‚£ä¹ˆæ˜¯ä¸æ˜¯å°±æŸæ‰‹æ— ç­–äº†ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ObjectDataProvideråŒ…è£…ä¸€ä¸ªå¯¹è±¡ç„¶åä½œä¸ºBindingçš„æ•°æ®æºã€‚æ€ä¹ˆæ¥å®ç°å‘¢ï¼Ÿ</p>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>ç°åœ¨çš„æƒ…å½¢æ˜¯ï¼Œæˆ‘å¼•ç”¨ä¸€ä¸ªç±»åº“ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªCalculatorçš„ç±»ï¼Œé‡Œé¢æœ‰å„ç§ç®—æ³•ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯åŠ æ³•çš„ç®—æ³•ï¼š</p>
<pre><code class="CSharp">class Calculator
{
    public string Add(string arg1, string arg2)
    {
        double x;
        double y;
        if (double.TryParse(arg1, out x) &amp;&amp; double.TryParse(arg2, out y))
        {
            return (x + y).ToString();
        }
        return @&quot;N/A&quot;;
    }
}
</code></pre>
<p>åœ¨ç•Œé¢ä¸Šï¼Œå‡†å¤‡äº†ä¸‰ä¸ªTextBoxï¼Œç¬¬ä¸€ä¸ªä½œä¸ºAddæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œç¬¬ä¸‰ä¸ªä½œä¸ºAddæ–¹æ³•è¿”å›å€¼ã€‚XAMLä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="CSharp">&lt;StackPanel&gt;
    &lt;TextBox x:Name=&quot;tBArg1&quot; Margin=&quot;10&quot; Height=&quot;25&quot;/&gt;
    &lt;TextBox x:Name=&quot;tBArg2&quot; Margin=&quot;10&quot; Height=&quot;25&quot;/&gt;
    &lt;TextBox x:Name=&quot;tBResult&quot; Margin=&quot;10&quot; Height=&quot;25&quot;/&gt;
&lt;/StackPanel&gt;
</code></pre>
<p>åŠŸèƒ½ä¸Šï¼Œæˆ‘è¦å®ç°åœ¨å‰ä¸¤ä¸ªTextBoxä¸Šè¾“å…¥å®æ•°åï¼Œåœ¨ç¬¬ä¸‰ä¸ªTextBoxå®æ—¶æ˜¾ç¤ºå‡ºè®¡ç®—ç»“æœã€‚è¿‡ç¨‹ä»£ç å†™åœ¨ä¸€ä¸ªSetBindingæ–¹æ³•é‡Œï¼Œç„¶ååœ¨çª—ä½“çš„æ„é€ å‡½æ•°ä¸­é‚£ä¸ªè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p>
<pre><code class="CSharp">public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();
        this.SetBinding();
    }

    private void SetBinding()
    {
        //Create and initial ObjectDataProvider instance
        ObjectDataProvider odp = new ObjectDataProvider();
        odp.ObjectInstance = new Calculator();
        odp.MethodName = &quot;Add&quot;;
        odp.MethodParameters.Add(&quot;&quot;);
        odp.MethodParameters.Add(&quot;&quot;);

        //Create and initial Binding instance
        Binding bindingToArg1 = new Binding(&quot;MethodParameters[0]&quot;)
        {
            Source = odp,
            BindsDirectlyToSource = true,
            UpdateSourceTrigger = UpdateSourceTrigger.PropertyChanged
        };

        Binding bindingToArg2 = new Binding(&quot;MethodParameters[1]&quot;)
        {
            Source = odp,
            BindsDirectlyToSource = true,
            UpdateSourceTrigger = UpdateSourceTrigger.PropertyChanged
        };

        Binding bindingToResult = new Binding(&quot;.&quot;) { Source = odp };

        //Set binding
        this.tBArg1.SetBinding(TextBox.TextProperty, bindingToArg1);
        this.tBArg2.SetBinding(TextBox.TextProperty, bindingToArg2);
        this.tBResult.SetBinding(TextBox.TextProperty, bindingToResult);
    }
}
</code></pre>
<p>æœ€ç»ˆçš„å®ç°æ•ˆæœ</p>
<p><a href="/img/2017/02/sp170207_142045.png"><img src="/img/2017/02/sp170207_142045.png" alt=""></a></p>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>OKï¼Œç°åœ¨æˆ‘ä»¬çš„é—®é¢˜è§£å†³äº†ã€‚è®©æˆ‘ä»¬ä»¥é—®ç­”çš„å½¢å¼å…·ä½“åˆ†æä¸€ä¸‹è¿™ä¸ªå®ç°è¿‡ç¨‹ã€‚</p>
<p>Qï¼šObjectDataProviderç±»çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>Aï¼šæ–‡ç« å¼€å¤´éƒ¨åˆ†å°±æåŠåˆ°äº†ï¼ŒObjectDataProviderç±»çš„ä½œç”¨å°±æ˜¯å°†ä¸€ä¸ª<strong>ä»¥æ–¹æ³•å½¢å¼æš´éœ²æ•°æ®çš„å¯¹è±¡</strong>åŒ…è£…èµ·æ¥ã€‚æˆ‘ä»¬å…ˆæ˜¯åˆ›å»ºäº†ä¸€ä¸ªObjectDataProviderå¯¹è±¡ï¼Œç„¶ånew ä¸€ä¸ªCalculatorå®ä¾‹èµ‹å€¼ç»™å®ƒçš„ObjectInstanceå±æ€§ï¼Œè¿™æ ·å°±å®Œæˆäº†å°†å¯¹è±¡åŒ…è£…åœ¨ObjectDataProviderå¯¹è±¡é‡Œçš„å·¥ä½œã€‚æ³¨æ„è¿™é‡Œçš„ObjectDataProviderå¯¹è±¡æœ¬èº«å°±ä»£è¡¨äº†æ•°æ®ï¼Œå› æ­¤Pathå†™â€œ.â€</p>
<p>Qï¼šBindsDirectlyToSource=trueè¿™å¥ä»£ç ä»€ä¹ˆæ„æ€ï¼Ÿ</p>
<p>Aï¼šè¿™å¥ä»£ç çš„æ„æ€æ˜¯å‘Šè¯‰Bindingå¯¹è±¡ï¼Œä½ æŠŠä»UIå…ƒç´ é‡‡é›†åˆ°æ•°æ®ç›´æ¥å†™å…¥å…¶ç›´æ¥Sourceï¼ˆä¹Ÿå°±æ˜¯ObjectDataProviderå¯¹è±¡ï¼‰ï¼Œè€Œä¸æ˜¯ObjectDataProviderå¯¹è±¡åŒ…è£…ç€çš„Calculatorå¯¹è±¡é‡Œã€‚</p>
<p>Qï¼šå¦‚æœä¸€ä¸ªæ–¹æ³•æœ‰å¤šä¸ªé‡è½½ObjectDataProviderå¦‚ä½•å†³ç­–ä½¿ç”¨å“ªä¸ªæ–¹æ³•ï¼Ÿ</p>
<p>Aï¼šæˆ‘ä»¬çŸ¥é“ï¼Œå„ä¸ªé‡è½½æ–¹æ³•çš„åŒºåˆ«åœ¨äºæ–¹æ³•å‚æ•°åˆ—è¡¨çš„ä¸åŒã€‚å› æ­¤ï¼ŒObjectDataProviderä¼šæ ¹æ®æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°æ¥å†³å®šä½¿ç”¨å“ªä¸ªé‡è½½æ–¹æ³•ã€‚è¿™é‡Œå¯ä»¥å¾—åˆ°çš„ä¸€ä¸ªç»“è®ºæ˜¯ï¼šMethodParameterså±æ€§å¯¹ç±»å‹æ˜¯æ•æ„Ÿçš„ã€‚</p>
<p>Qï¼šä¸‰ä¸ªTextBoxçš„æ•°æ®æºéƒ½æ˜¯è°ï¼Ÿ</p>
<p>Aï¼šä¸‰ä¸ªTextBoxçš„æ•°æ®æºéƒ½æ˜¯ObjectDataProviderå¯¹è±¡ã€‚è¿™é‡Œä½“ç°äº†WPFçš„æ•°æ®é©±åŠ¨UIçš„ç†å¿µã€‚</p>
]]></content>
      
        <categories>
            
            <category> Programming </category>
            
        </categories>
        
        
        <tags>
            
            <tag> WPF </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æé«˜Arduinoç¼–ç¨‹ä½“éªŒ]]></title>
      <url>/2016/12/29/arduino-ide-for-visualstudio/</url>
      <content type="html"><![CDATA[<p>å‰é˜µå­å­¦æ ¡æœ‰ä¸ªå•ç‰‡æœºæ¯”èµ›ï¼Œå—å…¶å½±å“çªç„¶å¾ˆæƒ³ç©æ¿å­ã€‚äºæ˜¯å°±ä¹°ä¸ªä¸€å—Arduino UNOçš„å›½äº§ç‰ˆZHONGBESTï¼Œå°±ä½¿ç”¨ä¸Šæ¥è¯´å’Œå®˜æ–¹åŸç‰ˆæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæœ€å¤§çš„åŒºåˆ«å°±æ˜¯ä¾¿å®œï¼ä¾¿å®œï¼ä¾¿å®œï¼ï¼ˆé‡è¯´ä¸‰ï¼‰</p>
<p>æ‹¿åˆ°æ‰‹åï¼Œå½“ç„¶è¿«ä¸åŠå¾…åœ°ä¸Šæ‰‹ä¸€ä¸ªHello Worldç¨‹åºï¼Œå¼€å§‹æˆ‘ç”¨çš„æ˜¯å®˜æ–¹çš„IDEï¼Œè¯•äº†æ²¡é—®é¢˜ä¹‹åæˆ‘å°è¯•ç€å»ä¿®æ”¹ä»£ç ï¼Œç„¶åæˆ‘å‘ç°äº†ä»€ä¹ˆï¼Ÿæ²¡æœ‰æ™ºèƒ½æç¤ºï¼æ²¡æœ‰æ™ºèƒ½æç¤ºï¼æ²¡æœ‰æ™ºèƒ½æç¤ºï¼æˆ–è®¸æˆ‘æ˜¯è¢«VSæƒ¯åäº†ï¼Œæˆ‘å®åœ¨å—ä¸äº†ã€‚æœç´¢ä¸€æ³¢åå‘ç°æœ‰ä¸ªæ‰©å±•å«åš Arduino IDE For Visual Studioï¼ˆä¼ é€é—¨ï¼š<a href="https://marketplace.visualstudio.com/items?itemName=VisualMicro.ArduinoIDEforVisualStudio" target="_blank" rel="external">https://marketplace.visualstudio.com/items?itemName=VisualMicro.ArduinoIDEforVisualStudio</a>ï¼‰ï¼Œå®‰è£…å¥½äº†ä¹‹åæ‰“å¼€VSåå¯ä»¥çœ‹åˆ°ç•Œé¢å·²ç»å‘ç”Ÿäº†å°‘è®¸çš„å˜åŒ–ï¼Œå†æ¬¡å°è¯•ç€å»å†™ä»£ç çš„æ—¶å€™æ‰¾å›äº†é‚£ç§æ„‰æ‚¦æ„Ÿ balabala~</p>
<p><a href="/img/2016/12/sp161229_125410.png"><img src="/img/2016/12/sp161229_125410.png" alt=""></a></p>
]]></content>
      
        <categories>
            
            <category> Arduino </category>
            
        </categories>
        
        
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
        
    </entry>
    
  
  
    
    <entry>
      <title><![CDATA[Talking]]></title>
      <url>/Talking/index.html</url>
      <content type="html"></content>
    </entry>
    
    <entry>
      <title><![CDATA[Articles]]></title>
      <url>/articles/index.html</url>
      <content type="html"></content>
    </entry>
    
    <entry>
      <title><![CDATA[å…³äºæˆ‘]]></title>
      <url>/about/index.html</url>
      <content type="html"><![CDATA[<p>å–œæ¬¢æ‘„å½±ä¸»ä¸šå†™ä»£ç çš„å·¥ç§‘ç”·(/â–½ï¼¼)</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Categories]]></title>
      <url>/categories/index.html</url>
      <content type="html"></content>
    </entry>
    
    <entry>
      <title><![CDATA[Contact]]></title>
      <url>/feeback/index.html</url>
      <content type="html"><![CDATA[<p>Contact me with<br><strong><a href="mailto:Myers.Chan@outlook.com?subject=FeebackFromBlog" target="_blank" rel="external">E-mail</a></strong>.<br><strong><a href="http://weibo.com/Nomyfan" target="_blank" rel="external">Weibo</a></strong><br><strong><a href="https://twitter.com/Myers__Chan" target="_blank" rel="external">Twitter</a></strong><br><strong><a href="https://facebook.com/myers.n.chan" target="_blank" rel="external">Facebook</a></strong></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Contact]]></title>
      <url>/contact/index.html</url>
      <content type="html"><![CDATA[<p>Contact me with<br><strong><a href="mailto:Myers.Chan@outlook.com?subject=FeebackFromBlog" target="_blank" rel="external">E-mail</a></strong>.<br><strong><a href="http://weibo.com/Nomyfan" target="_blank" rel="external">Weibo</a></strong><br><strong><a href="https://twitter.com/Myers__Chan" target="_blank" rel="external">Twitter</a></strong><br><strong><a href="https://facebook.com/myers.n.chan" target="_blank" rel="external">Facebook</a></strong></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Friends]]></title>
      <url>/friends/index.html</url>
      <content type="html"></content>
    </entry>
    
    <entry>
      <title><![CDATA[Photograph]]></title>
      <url>/photograph/index.html</url>
      <content type="html"></content>
    </entry>
    
    <entry>
      <title><![CDATA[Timeline]]></title>
      <url>/timeline/index.html</url>
      <content type="html"></content>
    </entry>
    
    <entry>
      <title><![CDATA[Tags]]></title>
      <url>/tags/index.html</url>
      <content type="html"></content>
    </entry>
    
  
</search>
